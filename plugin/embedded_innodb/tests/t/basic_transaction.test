connect (con1,localhost,root,,);
connect (con2,localhost,root,,);
connection con1;
CREATE TABLE t1 (a int);
connection con2;
START TRANSACTION WITH CONSISTENT SNAPSHOT;
SELECT count(*) from t1;
connection con1;
BEGIN;
INSERT INTO t1 VALUES (1),(1),(1),(1),(1),(1),(1),(1),(1),(1), (1),(1),(1),(1),(1),(1),(1),(1),(1),(1), (1),(1),(1),(1),(1),(1),(1),(1),(1),(1), (1),(1);
connection con2;
select count(*) from t1;
connection con1;
INSERT INTO t1 VALUES  (1),(1),(1),(1),(1),(1),(1),(1),(1),(1);
COMMIT;
SELECT count(*) from t1;
disconnect con1;
disconnect con2;
connection default;
DROP TABLE t1;
