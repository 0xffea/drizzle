# We will test to make sure that locks are being held correctly across
# sessions.

SELECT GET_LOCK("mine");
SELECT USER_NAME, USER_LOCK_NAME FROM DATA_DICTIONARY.USER_LOCKS ORDER BY USER_LOCK_NAME, USER_NAME;
CREATE TABLE lock_state (a int);
EXECUTE "INSERT INTO lock_state SELECT GET_LOCK(\"mine\", 20)" CONCURRENT;
SELECT RELEASE_LOCK(@LOCK);
DROP TABLE lock_state;
