# This test creates 1500 users which is 500 over the max specified by system variables

--disable_warnings
DROP TABLE IF EXISTS a;
--enable_warnings
CREATE TABLE a (i int,  PRIMARY KEY (i));

--echo Create 1500 users  
--disable_query_log
let $1=1500;
let $2=0;
while ($1)
{
  inc $2;
  connect (con3, localhost, $2,,);
  eval INSERT INTO a VALUES ($2);
  connection default; 
  disconnect con3;
  dec $1;
}
--enable_query_log
--sleep 1
SELECT * FROM DATA_DICTIONARY.CUMULATIVE_SQL_COMMANDS ORDER BY USER + 0 ASC;

DROP TABLE a;
