set global filtered_replicator_filteredtables=t2;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (
id INT NOT NULL
, padding VARCHAR(200) NOT NULL
);
INSERT INTO t1 VALUES (1, "I love testing.");
INSERT INTO t1 VALUES (2, "I hate testing.");
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (
id INT NOT NULL
, padding VARCHAR(200) NOT NULL
);
INSERT INTO t1 VALUES (1, "I love testing."), (2, "I hate testing.");
DROP TABLE IF EXISTS t1;
DROP TABLE IF EXISTS t2;
CREATE TABLE t1 (
id INT NOT NULL
, padding VARCHAR(200) NOT NULL
);
INSERT INTO t1 VALUES (1, "I love testing.");
INSERT INTO t1 VALUES (2, "I hate testing.");
CREATE TABLE t2 (
id INT NOT NULL
, padding VARCHAR(200) NOT NULL
);
INSERT INTO t2 SELECT * FROM t1;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (
id INT NOT NULL
, padding VARCHAR(200) NOT NULL
, PRIMARY KEY (id)
);
INSERT INTO t1 VALUES (1, "I love testing.");
INSERT INTO t1 VALUES (2, "I hate testing.");
ALTER TABLE t1 ADD dummy INT;
ALTER TABLE t1 ADD INDEX ix_padding (padding(20));
CREATE DATABASE test1;
DROP DATABASE test1;
DROP TABLE IF EXISTS t1, t2;
CREATE TABLE t1 (
id INT NOT NULL
, padding VARCHAR(200) NOT NULL
, PRIMARY KEY (id)
);
RENAME TABLE t1 TO t2;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (
id INT NOT NULL
, padding VARCHAR(200) NOT NULL
, PRIMARY KEY (id)
);
INSERT INTO t1 VALUES (1, "I love testing.");
INSERT INTO t1 VALUES (2, "I hate testing.");
DELETE FROM t1 where id = 1;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (
id INT NOT NULL
, padding VARCHAR(200) NOT NULL
, PRIMARY KEY (id)
);
INSERT INTO t1 VALUES (1, "I love testing.");
INSERT INTO t1 VALUES (2, "I hate testing.");
UPDATE t1 SET padding= "XXX" WHERE id= 1;
UPDATE t1 SET padding= "AAA";
DROP TABLE t1;
CREATE TABLE t1 (
id int AUTO_INCREMENT NOT NULL PRIMARY KEY
, name varchar(1024)
, alias varchar(1024)
);
INSERT INTO t1 (name,alias) VALUES ("jeff lebowski","dude");
UPDATE t1 SET alias = "the dude" WHERE alias = "dude";
DROP TABLE t1;
CREATE TABLE t1 (
id INT NOT NULL
, counter INT NOT NULL
, PRIMARY KEY (id)
);
INSERT INTO t1 (id, counter) VALUES (1,1),(2,2),(3,3);
UPDATE t1 SET counter = counter + 1 WHERE id = 1;
UPDATE t1 SET counter = counter + 1 WHERE id IN (2,3);
DROP TABLE t1;
DROP TABLE IF EXISTS `t1`;
CREATE TABLE t1 ( id INT NOT NULL , padding VARCHAR(200) NOT NULL );
INSERT INTO `test`.`t1` (`id`,`padding`) VALUES (1,'I love testing.');
INSERT INTO `test`.`t1` (`id`,`padding`) VALUES (2,'I hate testing.');
DROP TABLE IF EXISTS `t1`;
CREATE TABLE t1 ( id INT NOT NULL , padding VARCHAR(200) NOT NULL );
START TRANSACTION;
INSERT INTO `test`.`t1` (`id`,`padding`) VALUES (1,'I love testing.');
INSERT INTO `test`.`t1` (`id`,`padding`) VALUES (2,'I hate testing.');
COMMIT;
DROP TABLE IF EXISTS `t1`;
DROP TABLE IF EXISTS `t2`;
CREATE TABLE t1 ( id INT NOT NULL , padding VARCHAR(200) NOT NULL );
INSERT INTO `test`.`t1` (`id`,`padding`) VALUES (1,'I love testing.');
INSERT INTO `test`.`t1` (`id`,`padding`) VALUES (2,'I hate testing.');
DROP TABLE IF EXISTS `t1`;
CREATE TABLE t1 ( id INT NOT NULL , padding VARCHAR(200) NOT NULL , PRIMARY KEY (id) );
INSERT INTO `test`.`t1` (`id`,`padding`) VALUES (1,'I love testing.');
INSERT INTO `test`.`t1` (`id`,`padding`) VALUES (2,'I hate testing.');
ALTER TABLE t1 ADD dummy INT;
ALTER TABLE t1 ADD INDEX ix_padding (padding(20));
CREATE DATABASE test1;
DROP DATABASE test1;
DROP TABLE IF EXISTS `t1`;
DROP TABLE IF EXISTS `t2`;
CREATE TABLE t1 ( id INT NOT NULL , padding VARCHAR(200) NOT NULL , PRIMARY KEY (id) );
RENAME TABLE t1 TO t2;
DROP TABLE IF EXISTS `t1`;
CREATE TABLE t1 ( id INT NOT NULL , padding VARCHAR(200) NOT NULL , PRIMARY KEY (id) );
INSERT INTO `test`.`t1` (`id`,`padding`) VALUES (1,'I love testing.');
INSERT INTO `test`.`t1` (`id`,`padding`) VALUES (2,'I hate testing.');
DELETE FROM `test`.`t1` WHERE `id`=1;
DROP TABLE IF EXISTS `t1`;
CREATE TABLE t1 ( id INT NOT NULL , padding VARCHAR(200) NOT NULL , PRIMARY KEY (id) );
INSERT INTO `test`.`t1` (`id`,`padding`) VALUES (1,'I love testing.');
INSERT INTO `test`.`t1` (`id`,`padding`) VALUES (2,'I hate testing.');
UPDATE `test`.`t1` SET `padding`='XXX' WHERE `id`=1;
START TRANSACTION;
UPDATE `test`.`t1` SET `padding`='AAA' WHERE `id`=1;
UPDATE `test`.`t1` SET `padding`='AAA' WHERE `id`=2;
COMMIT;
DROP TABLE `t1`;
CREATE TABLE t1 ( id int AUTO_INCREMENT NOT NULL PRIMARY KEY , name varchar(1024) , alias varchar(1024) );
INSERT INTO `test`.`t1` (`id`,`name`,`alias`) VALUES (1,'jeff lebowski','dude');
UPDATE `test`.`t1` SET `alias`='the dude' WHERE `id`=1;
DROP TABLE `t1`;
CREATE TABLE t1 ( id INT NOT NULL , counter INT NOT NULL , PRIMARY KEY (id) );
START TRANSACTION;
INSERT INTO `test`.`t1` (`id`,`counter`) VALUES (1,1);
INSERT INTO `test`.`t1` (`id`,`counter`) VALUES (2,2);
INSERT INTO `test`.`t1` (`id`,`counter`) VALUES (3,3);
COMMIT;
UPDATE `test`.`t1` SET `counter`=2 WHERE `id`=1;
START TRANSACTION;
UPDATE `test`.`t1` SET `counter`=3 WHERE `id`=2;
UPDATE `test`.`t1` SET `counter`=4 WHERE `id`=3;
COMMIT;
DROP TABLE `t1`;
SET GLOBAL transaction_log_truncate_debug= true;
