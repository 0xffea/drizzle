SET @OLD_AUTO_COMMIT = @@AUTOCOMMIT;
SET AUTOCOMMIT = 0;
Testing simple transaction 
DROP TABLE IF EXISTS t1 ;
CREATE TABLE t1(a INT NOT NULL AUTO_INCREMENT, b INT NOT NULL, PRIMARY KEY(a), KEY b_key1 (b));
START TRANSACTION;
INSERT INTO t1 (b) VALUES (1),(2),(3),(4),(5),(6),(7),(8),(9),(10),(100),(101);
UPDATE t1 SET b = b*10 WHERE b%2=0;
UPDATE t1 SET b = b/10 WHERE b%2=0;
COMMIT;
# check transaction_log
SELECT * FROM DATA_DICTIONARY.TRANSACTION_LOG;
FILE_NAME	FILE_LENGTH	NUM_LOG_ENTRIES	NUM_TRANSACTIONS	MIN_TRANSACTION_ID	MAX_TRANSACTION_ID	MIN_END_TIMESTAMP	MAX_END_TIMESTAMP	INDEX_SIZE_IN_BYTES
transaction.log	640	3	3	1	3	START_TIMESTAMP	END_TIMESTAMP	73736

Check transaction_log_entries
SELECT * FROM DATA_DICTIONARY.TRANSACTION_LOG_ENTRIES;
ENTRY_OFFSET	ENTRY_TYPE	ENTRY_LENGTH
0	TRANSACTION	75
75	TRANSACTION	199
274	TRANSACTION	366

Check transaction_log_transactions
SELECT * FROM DATA_DICTIONARY.TRANSACTION_LOG_TRANSACTIONS;
ENTRY_OFFSET	TRANSACTION_ID	SERVER_ID	START_TIMESTAMP	END_TIMESTAMP	NUM_STATEMENTS	CHECKSUM
0	1	1	START_TIMESTAMP	END_TIMESTAMP	1	0
75	2	1	START_TIMESTAMP	END_TIMESTAMP	1	0
274	3	1	START_TIMESTAMP	END_TIMESTAMP	2	0
Check transaction log contents
SELECT PRINT_TRANSACTION_MESSAGE('transaction.log',(select max(entry_offset) from DATA_DICTIONARY.TRANSACTION_LOG_TRANSACTIONS));
PRINT_TRANSACTION_MESSAGE('transaction.log',(select max(entry_offset) from DATA_DICTIONARY.TRANSACTION_LOG_TRANSACTIONS))
transaction_context {
  server_id: 1
  transaction_id: 3
  START_TIMESTAMP
  END_TIMESTAMP
}
statement {
  type: INSERT
  START_TIMESTAMP
  END_TIMESTAMP
  insert_header {
    table_metadata {
      schema_name: "test"
      table_name: "t1"
    }
    field_metadata {
      type: INTEGER
      name: "a"
    }
    field_metadata {
      type: INTEGER
      name: "b"
    }
  }
  insert_data {
    segment_id: 1
    end_segment: true
    record {
      insert_value: "1"
      insert_value: "1"
    }
    record {
      insert_value: "2"
      insert_value: "2"
    }
    record {
      insert_value: "3"
      insert_value: "3"
    }
    record {
      insert_value: "4"
      insert_value: "4"
    }
    record {
      insert_value: "5"
      insert_value: "5"
    }
    record {
      insert_value: "6"
      insert_value: "6"
    }
    record {
      insert_value: "7"
      insert_value: "7"
    }
    record {
      insert_value: "8"
      insert_value: "8"
    }
    record {
      insert_value: "9"
      insert_value: "9"
    }
    record {
      insert_value: "10"
      insert_value: "10"
    }
    record {
      insert_value: "11"
      insert_value: "100"
    }
    record {
      insert_value: "12"
      insert_value: "101"
    }
  }
}
statement {
  type: UPDATE
  start_timestamp: 1277844242256217
  end_timestamp: 1277844242257629
  update_header {
    table_metadata {
      schema_name: "test"
      table_name: "t1"
    }
    key_field_metadata {
      type: INTEGER
      name: "a"
    }
    set_field_metadata {
      type: INTEGER
      name: "b"
    }
  }
  update_data {
    segment_id: 1
    end_segment: true
    record {
      key_value: "2"
      after_value: "20"
    }
    record {
      key_value: "4"
      after_value: "40"
    }
    record {
      key_value: "6"
      after_value: "60"
    }
    record {
      key_value: "8"
      after_value: "80"
    }
    record {
      key_value: "10"
      after_value: "100"
    }
    record {
      key_value: "11"
      after_value: "1000"
    }
    record {
      key_value: "2"
      after_value: "2"
    }
    record {
      key_value: "4"
      after_value: "4"
    }
    record {
      key_value: "6"
      after_value: "6"
    }
    record {
      key_value: "8"
      after_value: "8"
    }
    record {
      key_value: "10"
      after_value: "10"
    }
    record {
      key_value: "11"
      after_value: "100"
    }
  }
}



DROP TABLE t1;
SET GLOBAL transaction_log_truncate_debug= true;

SET AUTOCOMMIT = @OLD_AUTO_COMMIT;
