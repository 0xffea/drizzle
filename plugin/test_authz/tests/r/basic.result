create database authz_no;
SELECT * from authz_no.dont_exist;
ERROR 42S02: Table 'authz_no.dont_exist' doesn't exist
create database authz_yes;
show databases;
Database
authz_no
authz_yes
data_dictionary
information_schema
mysql
test
show databases;
Database
authz_yes
data_dictionary
information_schema
mysql
test
SELECT * from authz_no.dont_exist;
ERROR 42000: Access denied for user 'authz'@'LOCALHOST' to database 'authz_no'
create database authz_no;
ERROR 42000: Access denied for user 'authz'@'LOCALHOST' to database 'authz_no'
drop database authz_no;
ERROR 42000: Access denied for user 'authz'@'LOCALHOST' to database 'authz_no'
show processlist;
ID	USER	HOST	DB	COMMAND	TIME	STATE	INFO
1	root	#	test	#	#	#	
2	authz	#	test	#	#	#	
3	root	#	test	#	#	#	show processlist
4	root	#	test	#	#	#	show processlist
create table t1 (kill_id int);
insert into t1 values(connection_id());
select ((@id := kill_id) - kill_id) from t1;
((@id := kill_id) - kill_id)
0
kill @id;
select ((@id := kill_id) - kill_id) from t1;
((@id := kill_id) - kill_id)
0
select @id != connection_id();
@id != connection_id()
1
update t1 set kill_id= connection_id();
show processlist;
ID	USER	HOST	DB	COMMAND	TIME	STATE	INFO
2	authz	#	test	Query	#	Sending data	show processlist
select ((@id := kill_id) - kill_id) from t1;
((@id := kill_id) - kill_id)
0
kill @id;
ERROR HY000: Unknown thread id: 5
connect(localhost,authz,,authz_no,MASTER_PORT,);
ERROR 42000: Access denied for user 'authz'@'LOCALHOST' to database 'authz_no'
drop table t1;
drop schema authz_yes;
drop schema authz_no;
