drop table if exists t1, t2;
create table t1 (id int primary key, a int, b int) engine = blitzdb;
insert into t1 values (1, 1, 1), (2, 2, 2), (3, 3, 3), (4, 4, 4);
insert into t1 values (5, 5, 5), (6, 6, 6), (7, 7, 7), (8, 8, 8);
insert into t1 values (1, 0, 0);
ERROR 23000: Duplicate entry '1' for key 'PRIMARY'
insert into t1 values (2, 0, 0);
ERROR 23000: Duplicate entry '2' for key 'PRIMARY'
insert into t1 values (3, 0, 0);
ERROR 23000: Duplicate entry '3' for key 'PRIMARY'
insert into t1 values (4, 0, 0);
ERROR 23000: Duplicate entry '4' for key 'PRIMARY'
select * from t1 where id = 2;
id	a	b
2	2	2
select * from t1 where id = 4;
id	a	b
4	4	4
select * from t1 where id = 6;
id	a	b
6	6	6
select count (*) from t1;
count (*)
8
delete from t1 where id = 5;
select count (*) from t1;
count (*)
7
delete from t1 where id = 6;
select count (*) from t1;
count (*)
6
delete from t1 where id = 7;
select count (*) from t1;
count (*)
5
delete from t1 where id = 8;
select count (*) from t1;
count (*)
4
select count (id) from t1;
count (id)
4
select count (a) from t1;
count (a)
4
select count (b) from t1;
count (b)
4
select * from t1;
id	a	b
1	1	1
2	2	2
3	3	3
4	4	4
delete from t1;
select count (*) from t1;
count (*)
0
drop table t1;
create table t1 (id int primary key auto_increment, num int) engine = blitzdb;
insert into t1 (num) values (1);
select * from t1;
id	num
1	1
insert into t1 (num) values (1);
insert into t1 (num) values (1);
insert into t1 (num) values (1);
select count(*) from t1;
count(*)
4
flush table t1;
select count(*) from t1;
count(*)
4
insert into t1 (num) values (1);
insert into t1 (num) values (1);
insert into t1 (num) values (1);
insert into t1 (num) values (1);
select count(*) from t1;
count(*)
8
select count(num) from t1;
count(num)
8
select * from t1;
id	num
1	1
2	1
3	1
4	1
5	1
6	1
7	1
8	1
drop table t1;
create table t1 (id int primary key auto_increment) engine = blitzdb;
insert into t1 values ();
insert into t1 values ();
insert into t1 values ();
insert into t1 values ();
select count(*) from t1;
count(*)
4
delete from t1 where id = 1;
delete from t1 where id = 2;
select count(*) from t1;
count(*)
2
insert into t1 values ();
insert into t1 values ();
select count(*) from t1;
count(*)
4
drop table t1;
create table t1 (id varchar(64) primary key, country varchar(64)) engine = blitzdb;
insert into t1 values ('amsterdam', 'netherlands');
insert into t1 values ('budapest', 'hungary');
insert into t1 values ('copenhagen', 'denmark');
insert into t1 values ('dublin', 'ireland');
insert into t1 values ('edinburgh', 'scotland');
insert into t1 values ('fukuoka', 'japan');
insert into t1 values ('geneva', 'switzerland');
select * from t1;
id	country
amsterdam	netherlands
budapest	hungary
copenhagen	denmark
dublin	ireland
edinburgh	scotland
fukuoka	japan
geneva	switzerland
select country from t1 where id = 'dublin';
country
ireland
select country from t1 where id = 'geneva';
country
switzerland
select country from t1 where id = 'amsterdam';
country
netherlands
select country from t1 where id = 'non existent key';
country
select country from t1 where id = 'edinburgh';
country
scotland
select country from t1 where id = 'copenhagen';
country
denmark
select country from t1 where id = 'fukuoka';
country
japan
select country from t1 where id = 'budapest';
country
hungary
select count (id) from t1;
count (id)
7
delete from t1 where id = 'geneva';
delete from t1 where id = 'fukuoka';
select count (id) from t1;
count (id)
5
select count (*) from t1;
count (*)
5
select * from t1;
id	country
amsterdam	netherlands
budapest	hungary
copenhagen	denmark
dublin	ireland
edinburgh	scotland
drop table t1;
