# Test creating a bunch of connections, and then killing them.
connect (con1,localhost,root,,);
connect (con2,localhost,root,,);
connect (con3,localhost,root,,);
connect (con4,localhost,root,,);
connect (con5,localhost,root,,);

connection default;
SELECT COUNT(ID) FROM DATA_DICTIONARY.PROCESSLIST ORDER BY ID;
SELECT IF(KILL(id), "YES", "NO") FROM DATA_DICTIONARY.PROCESSLIST WHERE ID != CONNECTION_ID();
SELECT count(ID) FROM DATA_DICTIONARY.PROCESSLIST WHERE COMMAND != "Killed";
--error 1713
SELECT KILL(CONNECTION_ID());
