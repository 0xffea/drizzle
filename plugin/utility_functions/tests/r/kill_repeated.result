CREATE TABLE CONNECTIONS SELECT ID FROM DATA_DICTIONARY.PROCESSLIST WHERE ID != CONNECTION_ID();
INSERT INTO CONNECTIONS SELECT ID FROM DATA_DICTIONARY.PROCESSLIST WHERE ID != CONNECTION_ID();
SELECT IF (KILL(id), "YES", "NO") FROM CONNECTIONS ORDER BY RAND();
IF (KILL(id), "YES", "NO")
YES
YES
YES
YES
YES
YES
YES
YES
YES
YES
SELECT count(ID) FROM DATA_DICTIONARY.PROCESSLIST WHERE COMMAND != "Killed";
count(ID)
1
DROP TABLE CONNECTIONS;
