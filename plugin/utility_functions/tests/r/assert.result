SELECT ASSERT(1);
ASSERT(1)
1
SELECT ASSERT(1+1);
ASSERT(1+1)
1
SELECT ASSERT(TRUE);
ASSERT(TRUE)
1
SELECT ASSERT(ASSERT(TRUE));
ASSERT(ASSERT(TRUE))
1
SELECT ASSERT(1 > 0);
ASSERT(1 > 0)
1
SELECT (SELECT 1) UNION SELECT (SELECT ASSERT(TRUE));
(SELECT 1)
1
SELECT (SELECT ASSERT(TRUE)) UNION SELECT (SELECT ASSERT(TRUE));
(SELECT ASSERT(TRUE))
1
SELECT (SELECT ASSERT(TRUE)) UNION SELECT (SELECT 1);
(SELECT ASSERT(TRUE))
1
SELECT ASSERT(FALSE);
ERROR HY000: Assertion failed: 'FALSE'.
SELECT ASSERT(ASSERT(FALSE));
ERROR HY000: Assertion failed: 'FALSE'.
SELECT ASSERT(NULL);
ERROR HY000: Assertion failed, result was NULL.
SELECT ASSERT(1 -1);
ERROR HY000: Assertion failed: '0'.
SELECT ASSERT(1 < 0);
ERROR HY000: Assertion failed: '0'.
SELECT (SELECT (SELECT (ASSERT(1 -1))));
ERROR HY000: Assertion failed: '0'.
SELECT 1 FROM (SELECT ASSERT(FALSE)) failure;
ERROR HY000: Assertion failed: 'FALSE'.
SELECT (SELECT 1) UNION SELECT (SELECT ASSERT(FALSE));
ERROR HY000: Assertion failed: 'FALSE'.
SELECT (SELECT ASSERT(FALSE)) UNION SELECT (SELECT ASSERT(FALSE));
ERROR HY000: Assertion failed: 'FALSE'.
SELECT (SELECT ASSERT(FALSE)) UNION SELECT (SELECT 1);
ERROR HY000: Assertion failed: 'FALSE'.
CREATE TABLE t1 (a int);
SELECT ASSERT(COUNT(a)) FROM t1;
ERROR HY000: Assertion failed: '0'.
INSERT INTO t1 VALUES ();
SELECT ASSERT(COUNT(*)) FROM t1;
ASSERT(COUNT(*))
1
SELECT ASSERT(COUNT(a)) FROM t1;
ERROR HY000: Assertion failed: '0'.
DROP table t1;
CREATE TABLE t1 AS SELECT ASSERT(TRUE);
SELECT * from t1;
ASSERT(TRUE)
1
DROP TABLE t1;
CREATE TABLE t1 AS SELECT ASSERT(FALSE);
ERROR HY000: Assertion failed: 'FALSE'.
SELECT ASSERT(COUNT(*) = 0) FROM DATA_DICTIONARY.TABLES WHERE TABLE_NAME="t1" AND TABLE_SCHEMA=SCHEMA();
ASSERT(COUNT(*) = 0)
1
