flush status;
select 1;
1
1
show status like 'last_query_cost';
Variable_name	Value
Last_query_cost	0.000000
create table t1 (a int) engine=myisam;
insert into t1 values (1),(2),(3),(4),(5),(6),(7),(8),(9),(10);
insert into t1 values (1),(2),(3),(4),(5),(6),(7),(8),(9),(10);
insert into t1 values (1),(2),(3),(4),(5),(6),(7),(8),(9),(10);
insert into t1 values (1),(2),(3),(4),(5),(6),(7),(8),(9),(10);
insert into t1 values (1),(2),(3),(4),(5),(6),(7),(8),(9),(10);
select * from t1 where a=6;
a
6
6
6
6
6
show status like 'last_query_cost';
Variable_name	Value
Last_query_cost	12.084449
show status like 'last_query_cost';
Variable_name	Value
Last_query_cost	12.084449
select 1;
1
1
show status like 'last_query_cost';
Variable_name	Value
Last_query_cost	0.000000
drop table t1;
FLUSH STATUS;
SHOW STATUS LIKE 'max_used_connections';
Variable_name	Value
Max_used_connections	1
SELECT * FROM INFORMATION_SCHEMA.SESSION_STATUS WHERE VARIABLE_NAME LIKE 'max_used_connections';
VARIABLE_NAME	VARIABLE_VALUE
MAX_USED_CONNECTIONS	1
SHOW STATUS LIKE 'max_used_connections';
Variable_name	Value
Max_used_connections	3
SELECT * FROM INFORMATION_SCHEMA.SESSION_STATUS WHERE VARIABLE_NAME LIKE 'max_used_connections';
VARIABLE_NAME	VARIABLE_VALUE
MAX_USED_CONNECTIONS	3
CREATE TABLE t1 ( a INT ) ENGINE=MyISAM;
INSERT INTO t1 VALUES (1), (2);
SELECT a FROM t1 LIMIT 1;
a
1
SHOW SESSION STATUS LIKE 'Last_query_cost';
Variable_name	Value
Last_query_cost	2.402418
EXPLAIN SELECT a FROM t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	Extra
1	SIMPLE	t1	ALL	NULL	NULL	NULL	NULL	2	
SHOW SESSION STATUS LIKE 'Last_query_cost';
Variable_name	Value
Last_query_cost	2.402418
SELECT a FROM t1 UNION SELECT a FROM t1 ORDER BY a;
a
1
2
SHOW SESSION STATUS LIKE 'Last_query_cost';
Variable_name	Value
Last_query_cost	0.000000
EXPLAIN SELECT a FROM t1 UNION SELECT a FROM t1 ORDER BY a;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	2	
2	UNION	t1	ALL	NULL	NULL	NULL	NULL	2	
NULL	UNION RESULT	<union1,2>	ALL	NULL	NULL	NULL	NULL	NULL	Using filesort
SHOW SESSION STATUS LIKE 'Last_query_cost';
Variable_name	Value
Last_query_cost	0.000000
SELECT a IN (SELECT a FROM t1) FROM t1 LIMIT 1;
a IN (SELECT a FROM t1)
1
SHOW SESSION STATUS LIKE 'Last_query_cost';
Variable_name	Value
Last_query_cost	0.000000
SELECT (SELECT a FROM t1 LIMIT 1) x FROM t1 LIMIT 1;
x
1
SHOW SESSION STATUS LIKE 'Last_query_cost';
Variable_name	Value
Last_query_cost	0.000000
SELECT * FROM t1 a, t1 b LIMIT 1;
a	a
1	1
SHOW SESSION STATUS LIKE 'Last_query_cost';
Variable_name	Value
Last_query_cost	4.805836
DROP TABLE t1;
show status like 'com_show_status';
Variable_name	Value
Com_show_status	3
show status like 'hand%write%';
Variable_name	Value
Handler_write	5
show status like '%tmp%';
Variable_name	Value
Created_tmp_disk_tables	0
Created_tmp_files	0
Created_tmp_tables	0
show status like 'hand%write%';
Variable_name	Value
Handler_write	7
show status like '%tmp%';
Variable_name	Value
Created_tmp_disk_tables	0
Created_tmp_files	0
Created_tmp_tables	0
show status like 'com_show_status';
Variable_name	Value
Com_show_status	8
rnd_diff	tmp_table_diff
20	8
SELECT VARIABLE_VALUE INTO @tc FROM INFORMATION_SCHEMA.GLOBAL_STATUS WHERE VARIABLE_NAME = 'Threads_connected';
SELECT VARIABLE_NAME FROM INFORMATION_SCHEMA.GLOBAL_STATUS WHERE VARIABLE_NAME = 'Threads_created' AND VARIABLE_VALUE < @tc;
VARIABLE_NAME
SELECT VARIABLE_VALUE INTO @tr FROM INFORMATION_SCHEMA.GLOBAL_STATUS WHERE VARIABLE_NAME = 'Threads_running';
FLUSH STATUS;
SELECT * FROM INFORMATION_SCHEMA.GLOBAL_STATUS WHERE VARIABLE_NAME = 'Threads_connected' AND VARIABLE_VALUE < @tc;
VARIABLE_NAME	VARIABLE_VALUE
SELECT * FROM INFORMATION_SCHEMA.GLOBAL_STATUS WHERE VARIABLE_NAME = 'Threads_running' AND VARIABLE_VALUE < @tr;
VARIABLE_NAME	VARIABLE_VALUE
