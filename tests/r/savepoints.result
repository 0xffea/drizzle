SET AUTOCOMMIT = 0;
CREATE TABLE t1 (id INT NOT NULL PRIMARY KEY);
COMMIT;
UPDATE t1 SET id = 2 WHERE id != 2 LIMIT 0;
SAVEPOINT A;
DROP TABLE t1;
CREATE TABLE t1 (id INT NOT NULL PRIMARY KEY);
START TRANSACTION;
INSERT INTO t1 VALUES (1);
SAVEPOINT A;
INSERT INTO t1 VALUES (2);
SAVEPOINT B;
INSERT INTO t1 VALUES (3);
COMMIT;
SELECT * FROM t1;
id
1
2
3
START TRANSACTION;
INSERT INTO t1 VALUES (4);
SAVEPOINT A;
INSERT INTO t1 VALUES (5);
SAVEPOINT B;
INSERT INTO t1 VALUES (6);
ROLLBACK;
SELECT * FROM t1;
id
1
2
3
START TRANSACTION;
INSERT INTO t1 VALUES (4);
SAVEPOINT A;
INSERT INTO t1 VALUES (5);
SAVEPOINT B;
INSERT INTO t1 VALUES (6);
ROLLBACK TO SAVEPOINT A;
COMMIT;
SELECT * FROM t1;
id
1
2
3
4
DROP TABLE t1;
Start Test of Bug 542299
CREATE TABLE t1 (a int,id integer auto_increment,b int,/*Indices*/key (a ),primary key (id)) ENGINE=innodb;
ALTER TABLE t1 DISABLE KEYS;
Warnings:
Note	1031	Table storage engine for 't1' doesn't have this option
INSERT INTO t1 VALUES  (100, NULL, 100) ,  (100, NULL, 100) ,  (100, NULL, 100) ,  (100, NULL, 100) ,  (100, NULL, 100) ,  (100, NULL, 100) ,  (100, NULL, 100) ,  (100, NULL, 100);
COMMIT;
CREATE TABLE t2 (a int,b int,id integer auto_increment,/*Indices*/key (a ),primary key (id)) ENGINE=innodb;
ALTER TABLE t2 DISABLE KEYS;
Warnings:
Note	1031	Table storage engine for 't2' doesn't have this option
SHOW WARNINGS;
Level	Code	Message
Note	1031	Table storage engine for 't2' doesn't have this option
INSERT INTO t2 VALUES  (100, 100, NULL) ,  (100, 100, NULL) ,  (100, 100, NULL) ,  (100, 100, NULL) ,  (100, 100, NULL) ,  (100, 100, NULL) ,  (100, 100, NULL) ,  (100, 100, NULL);
INSERT INTO t2 VALUES  (100, 100, NULL) ,  (100, 100, NULL) ,  (100, 100, NULL) ,  (100, 100, NULL) ,  (100, 100, NULL) ,  (100, 100, NULL) ,  (100, 100, NULL) ,  (100, 100, NULL);
COMMIT;
ALTER TABLE t2 ENABLE KEYS;
Warnings:
Note	1031	Table storage engine for 't2' doesn't have this option
SHOW WARNINGS;
Level	Code	Message
Note	1031	Table storage engine for 't2' doesn't have this option
COMMIT;
SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE READ;
SET AUTOCOMMIT=OFF;
SELECT id FROM t1 WHERE b BETWEEN 1 and 5;
id
SELECT id FROM t1 WHERE b BETWEEN 1 and 5 /* no additional predicate */;
id
SELECT id FROM t1 WHERE b BETWEEN 1 and 5 AND id > -16777216;
id
UPDATE t1 SET a = 0 WHERE 1 = 1 LIMIT 4;
UPDATE t1 SET id = 0 WHERE id BETWEEN 0 and 1 LIMIT 1;
UPDATE t1 SET a = 5 WHERE a < 7 LIMIT 6;
INSERT INTO t2 ( a, b ) VALUES ( 6 , 7 );
DELETE FROM t2 WHERE 1 = 1 LIMIT 5;
SAVEPOINT A;
START TRANSACTION;
INSERT INTO t1 ( a, b ) VALUES ( 5 , 1 );
INSERT INTO t1 ( a, b ) VALUES ( 5 , 9 );
SELECT id FROM t2 WHERE id IN ( 1 , 2 , 1 );
id
SELECT id FROM t2 WHERE id IN ( 1 , 2 , 1 ) /* no additional predicate */;
id
SELECT id FROM t2 WHERE id IN ( 1 , 2 , 1 ) AND id > -16777216;
id
INSERT INTO t1 ( a, b ) VALUES ( 0 , 2 );
UPDATE t1 SET b = 1 WHERE 1 = 1 LIMIT 0;
INSERT INTO t1 ( a, b ) VALUES ( 1 , 6 );
ROLLBACK TO SAVEPOINT A;
ERROR 42000: SAVEPOINT A does not exist
INSERT INTO t1 ( a, b ) VALUES ( 7 , 5 );
SELECT b FROM t1 WHERE a IN ( 3 , 9 , 0 );
b
2
SELECT b FROM t1 WHERE a IN ( 3 , 9 , 0 ) /* no additional predicate */;
b
2
SELECT b FROM t1 WHERE a IN ( 3 , 9 , 0 ) AND id > -16777216;
b
2
INSERT INTO t1 ( a, b ) VALUES ( 8 , 9 );
SAVEPOINT A;
INSERT INTO t1 ( a, b ) VALUES ( 9 , 2 );
UPDATE t2 SET a = 0 WHERE a < 1 LIMIT 4;
UPDATE t1 SET b = 1 WHERE a = 4 LIMIT 7;
DELETE FROM t2 WHERE id < 1 LIMIT 1;
UPDATE t1 SET id = 5 WHERE b = 2 LIMIT 8;
ERROR 23000: Duplicate entry '5' for key 'PRIMARY'
SAVEPOINT A;
UPDATE t1 SET id = 8 WHERE b BETWEEN 4 and 8 LIMIT 3;
ERROR 23000: Duplicate entry '8' for key 'PRIMARY'
SELECT id FROM t1 WHERE 1 = 1;
id
0
2
3
4
5
6
7
8
9
10
11
12
13
14
15
SELECT id FROM t1 WHERE 1 = 1 /* no additional predicate */;
id
0
2
3
4
5
6
7
8
9
10
11
12
13
14
15
SELECT id FROM t1 WHERE 1 = 1 AND id > -16777216;
id
0
2
3
4
5
6
7
8
9
10
11
12
13
14
15
DELETE FROM t2 WHERE a BETWEEN 8 and 1 LIMIT 2;
UPDATE t1 SET b = 7 WHERE id = 9 LIMIT 7;
ROLLBACK TO SAVEPOINT A;
ROLLBACK;
UPDATE t2 SET a = 3 WHERE id IN ( 8 , 4 , 5 ) LIMIT 0;
SELECT id FROM t2 WHERE 1 = 1;
id
6
7
8
9
10
11
12
13
14
15
16
17
SELECT id FROM t2 WHERE 1 = 1 /* no additional predicate */;
id
6
7
8
9
10
11
12
13
14
15
16
17
SELECT id FROM t2 WHERE 1 = 1 AND id > -16777216;
id
6
7
8
9
10
11
12
13
14
15
16
17
SELECT a FROM t2 WHERE a = 3;
a
SELECT a FROM t2 WHERE a = 3 /* no additional predicate */;
a
SELECT a FROM t2 WHERE a = 3 AND id > -16777216;
a
DELETE FROM t1 WHERE b = 2 LIMIT 2;
ROLLBACK;
INSERT INTO t1 ( a, b ) VALUES ( 7 , 4 );
UPDATE t1 SET a = 0 WHERE a > 0 LIMIT 4;
COMMIT;
DELETE FROM t2 WHERE id = 5 LIMIT 2;
DELETE FROM t2 WHERE a = 3 LIMIT 0;
SELECT b FROM t1 WHERE a = 2;
b
SELECT b FROM t1 WHERE a = 2 /* no additional predicate */;
b
SELECT b FROM t1 WHERE a = 2 AND id > -16777216;
b
UPDATE t1 SET b = 8 WHERE id BETWEEN 8 and 4 LIMIT 8;
UPDATE t1 SET b = 2 WHERE id = 1 LIMIT 6;
INSERT INTO t1 ( a, b ) VALUES ( 9 , 7 );
SELECT a FROM t1 WHERE id > 5;
a
100
100
100
7
9
SELECT a FROM t1 WHERE id > 5 /* no additional predicate */;
a
100
100
100
7
9
SELECT a FROM t1 WHERE id > 5 AND id > -16777216;
a
100
100
100
7
9
DELETE FROM t2 WHERE id < 3 LIMIT 3;
UPDATE t2 SET id = 8 WHERE id = 4 LIMIT 5;
UPDATE t1 SET a = 3 WHERE a = 0 LIMIT 4;
SET AUTOCOMMIT=1;
SELECT b FROM t1 WHERE id = 7;
b
100
SELECT DATABASE();
DATABASE()
test
SELECT b FROM t1 WHERE id = 7 /* no additional predicate */;
b
100
SELECT VERSION();
VERSION()
2010.04.1491
SELECT b FROM t1 WHERE id = 7 AND id > -16777216;
b
100
ROLLBACK TO SAVEPOINT A;
ERROR 42000: SAVEPOINT A does not exist
INSERT INTO t2 ( a, b ) VALUES ( 2 , 9 );
SELECT a FROM t1 WHERE id BETWEEN 9 and 5;
a
SELECT a FROM t1 WHERE id BETWEEN 9 and 5 /* no additional predicate */;
a
SELECT a FROM t1 WHERE id BETWEEN 9 and 5 AND id > -16777216;
a
ROLLBACK TO SAVEPOINT A;
ERROR 42000: SAVEPOINT A does not exist
DELETE FROM t1 WHERE a BETWEEN 8 and 8 LIMIT 5;
ROLLBACK TO SAVEPOINT A;
ERROR 42000: SAVEPOINT A does not exist
COMMIT;
DELETE FROM t1 WHERE id IN ( 9 , 1 , 9 ) LIMIT 8;
INSERT INTO t2 ( a, b ) VALUES ( 5 , 2 );
DELETE FROM t1 WHERE a < 7 LIMIT 0;
DELETE FROM t2 WHERE 1 = 1 LIMIT 2;
START TRANSACTION;
INSERT INTO t2 ( a, b ) VALUES ( 2 , 0 );
UPDATE t2 SET a = 7 WHERE a BETWEEN 9 and 0 LIMIT 7;
SELECT b FROM t2 WHERE 1 = 1;
b
100
100
100
100
100
100
100
100
100
7
9
2
0
SELECT b FROM t2 WHERE 1 = 1 /* no additional predicate */;
b
100
100
100
100
100
100
100
100
100
7
9
2
0
SELECT b FROM t2 WHERE 1 = 1 AND id > -16777216;
b
100
100
100
100
100
100
100
100
100
7
9
2
0
DELETE FROM t1 WHERE 1 = 1 LIMIT 1;
SELECT a FROM t2 WHERE b = 1;
a
SELECT a FROM t2 WHERE b = 1 /* no additional predicate */;
a
SELECT a FROM t2 WHERE b = 1 AND id > -16777216;
a
INSERT INTO t1 ( a, b ) VALUES ( 5 , 9 );
INSERT INTO t2 ( a, b ) VALUES ( 9 , 4 );
DELETE FROM t2 WHERE b > 1 LIMIT 8;
UPDATE t2 SET id = 7 WHERE b > 4 LIMIT 0;
SELECT a FROM t2 WHERE a < 0;
a
SELECT a FROM t2 WHERE a < 0 /* no additional predicate */;
a
SELECT a FROM t2 WHERE a < 0 AND id > -16777216;
a
SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE READ;
START TRANSACTION;
SET AUTOCOMMIT=OFF;
START TRANSACTION;
DELETE FROM t1 WHERE 1 = 1 LIMIT 2;
INSERT INTO t1 ( a, b ) VALUES ( 0 , 2 );
SELECT a FROM t2 WHERE b > 9;
a
100
UPDATE t1 SET b = 3 WHERE id < 5 LIMIT 6;
SELECT id FROM t2 WHERE id BETWEEN 3 and 4;
id
SELECT a FROM t2 WHERE b > 9 /* no additional predicate */;
a
100
SELECT id FROM t2 WHERE id BETWEEN 3 and 4 /* no additional predicate */;
id
SELECT id FROM t2 WHERE id BETWEEN 3 and 4 AND id > -16777216;
id
INSERT INTO t1 ( a, b ) VALUES ( 1 , 8 );
SELECT a FROM t2 WHERE b > 9 AND id > -16777216;
a
100
SELECT a FROM t1 WHERE a BETWEEN 0 and 0;
a
0
SELECT a FROM t1 WHERE a BETWEEN 0 and 0 /* no additional predicate */;
a
0
SELECT a FROM t1 WHERE a BETWEEN 0 and 0 AND id > -16777216;
a
0
SELECT b FROM t2 WHERE b = 7;
b
7
SELECT b FROM t2 WHERE b = 7 /* no additional predicate */;
b
7
SELECT b FROM t2 WHERE b = 7 AND id > -16777216;
b
7
DELETE FROM t2 WHERE a BETWEEN 6 and 7 LIMIT 0;
UPDATE t2 SET id = 5 WHERE b = 6 LIMIT 4;
INSERT INTO t1 ( a, b ) VALUES ( 1 , 4 );
UPDATE t1 SET b = 7 WHERE id IN ( 7 , 2 , 0 ) LIMIT 0;
DELETE FROM t1 WHERE a < 1 LIMIT 1;
START TRANSACTION;
UPDATE t2 SET a = 5 WHERE id IN ( 7 , 8 , 9 ) LIMIT 2;
SELECT a FROM t2 WHERE b < 9;
a
6
5
2
9
SELECT a FROM t2 WHERE b < 9 /* no additional predicate */;
a
6
5
2
9
SELECT a FROM t2 WHERE b < 9 AND id > -16777216;
a
6
5
2
9
UPDATE t1 SET id = 0 WHERE 1 = 1 LIMIT 9;
ERROR 23000: Duplicate entry '0' for key 'PRIMARY'
INSERT INTO t1 ( a, b ) VALUES ( 6 , 1 );
INSERT INTO t1 ( a, b ) VALUES ( 4 , 7 );
INSERT INTO t1 ( a, b ) VALUES ( 7 , 4 );
SELECT a FROM t2 WHERE b = 0;
a
2
SELECT a FROM t2 WHERE b = 0 /* no additional predicate */;
a
2
ROLLBACK;
START TRANSACTION;
SELECT a FROM t2 WHERE b = 0 AND id > -16777216;
a
2
ROLLBACK TO SAVEPOINT A;
ERROR 42000: SAVEPOINT A does not exist
UPDATE t1 SET id = 2 WHERE id < 1 LIMIT 6;
DELETE FROM t2 WHERE b > 4 LIMIT 3;
SELECT a FROM t2 WHERE b BETWEEN 1 and 2;
a
5
SELECT a FROM t2 WHERE b BETWEEN 1 and 2 /* no additional predicate */;
a
5
SELECT id FROM t1 WHERE id BETWEEN 0 and 4;
id
4
SELECT a FROM t2 WHERE b BETWEEN 1 and 2 AND id > -16777216;
a
5
SELECT id FROM t1 WHERE id BETWEEN 0 and 4 /* no additional predicate */;
id
4
SELECT id FROM t1 WHERE id BETWEEN 0 and 4 AND id > -16777216;
id
4
INSERT INTO t2 ( a, b ) VALUES ( 6 , 3 );
UPDATE t1 SET a = 5 WHERE id < 5 LIMIT 0;
INSERT INTO t2 ( a, b ) VALUES ( 4 , 1 );
INSERT INTO t2 ( a, b ) VALUES ( 8 , 5 );
INSERT INTO t1 ( a, b ) VALUES ( 5 , 0 );
UPDATE t1 SET id = 7 WHERE id > 7 LIMIT 7;
ERROR 23000: Duplicate entry '7' for key 'PRIMARY'
INSERT INTO t2 ( a, b ) VALUES ( 8 , 6 );
INSERT INTO t1 ( a, b ) VALUES ( 5 , 1 );
DELETE FROM t2 WHERE a < 3 LIMIT 6;
SAVEPOINT A;
START TRANSACTION;
DELETE FROM t1 WHERE a BETWEEN 7 and 4 LIMIT 4;
DELETE FROM t1 WHERE 1 = 1 LIMIT 3;
UPDATE t1 SET id = 9 WHERE 1 = 1 LIMIT 6;
ERROR 23000: Duplicate entry '9' for key 'PRIMARY'
UPDATE t2 SET b = 4 WHERE b IN ( 2 , 5 , 0 ) LIMIT 2;
DELETE FROM t2 WHERE b BETWEEN 4 and 9 LIMIT 7;
INSERT INTO t1 ( a, b ) VALUES ( 6 , 0 );
INSERT INTO t2 ( a, b ) VALUES ( 3 , 6 );
INSERT INTO t1 ( a, b ) VALUES ( 0 , 9 );
SELECT a FROM t2 WHERE a < 6;
a
3
4
ROLLBACK;
ROLLBACK;
SELECT a FROM t2 WHERE a < 6 /* no additional predicate */;
a
4
5
START TRANSACTION;
SELECT a FROM t2 WHERE a < 6 AND id > -16777216;
a
4
5
ROLLBACK TO SAVEPOINT A;
ERROR 42000: SAVEPOINT A does not exist
SELECT b FROM t2 WHERE a > 0;
b
2
4
3
1
5
6
SELECT b FROM t2 WHERE a > 0 /* no additional predicate */;
b
2
4
3
1
5
6
SELECT b FROM t2 WHERE a > 0 AND id > -16777216;
b
2
4
3
1
5
6
DELETE FROM t2 WHERE b BETWEEN 1 and 7 LIMIT 2;
COMMIT;
UPDATE t2 SET b = 1 WHERE a = 0 LIMIT 8;
DELETE FROM t2 WHERE id BETWEEN 9 and 4 LIMIT 8;
SELECT a FROM t2 WHERE a > 5;
a
6
8
8
SELECT a FROM t2 WHERE a > 5 /* no additional predicate */;
a
6
8
8
COMMIT;
SET AUTOCOMMIT=1;
SELECT id FROM t2 WHERE b > 8;
id
SELECT id FROM t2 WHERE b > 8 /* no additional predicate */;
id
SELECT a FROM t2 WHERE a > 5 AND id > -16777216;
a
6
8
8
SELECT id FROM t2 WHERE b > 8 AND id > -16777216;
id
SAVEPOINT A;
UPDATE t1 SET b = 6 WHERE b > 4 LIMIT 1;
UPDATE t2 SET b = 4 WHERE 1 = 1 LIMIT 8;
DELETE FROM t2 WHERE 1 = 1 LIMIT 0;
DELETE FROM t1 WHERE b = 7 LIMIT 2;
ROLLBACK TO SAVEPOINT A;
ERROR 42000: SAVEPOINT A does not exist
INSERT INTO t1 ( a, b ) VALUES ( 4 , 7 );
DELETE FROM t2 WHERE id = 8 LIMIT 8;
DELETE FROM t1 WHERE 1 = 1 LIMIT 7;
INSERT INTO t1 ( a, b ) VALUES ( 2 , 0 );
SELECT b FROM t1 WHERE b < 5;
b
4
0
1
0
SELECT b FROM t1 WHERE b < 5 /* no additional predicate */;
b
4
0
1
0
SELECT b FROM t1 WHERE b < 5 AND id > -16777216;
b
4
0
1
0
DELETE FROM t1 WHERE 1 = 1 LIMIT 0;
UPDATE t1 SET id = 3 WHERE id < 4 LIMIT 7;
DELETE FROM t2 WHERE 1 = 1 LIMIT 0;
SELECT id FROM t2 WHERE id BETWEEN 0 and 0;
id
SELECT id FROM t2 WHERE id BETWEEN 0 and 0 /* no additional predicate */;
id
SELECT id FROM t2 WHERE id BETWEEN 0 and 0 AND id > -16777216;
id
DELETE FROM t1 WHERE b < 3 LIMIT 6;
START TRANSACTION;
UPDATE t1 SET b = 2 WHERE 1 = 1 LIMIT 1;
SELECT b FROM t2 WHERE a < 2;
b
SELECT b FROM t2 WHERE a < 2 /* no additional predicate */;
b
SELECT b FROM t2 WHERE a < 2 AND id > -16777216;
b
UPDATE t1 SET b = 8 WHERE id = 8 LIMIT 5;
ROLLBACK;
UPDATE t1 SET id = 5 WHERE 1 = 1 LIMIT 8;
ERROR 23000: Duplicate entry '5' for key 'PRIMARY'
UPDATE t1 SET id = 7 WHERE id = 4 LIMIT 0;
SELECT a FROM t2 WHERE a > 1;
a
4
6
8
8
SAVEPOINT A;
SELECT a FROM t2 WHERE a > 1 /* no additional predicate */;
a
4
6
8
8
INSERT INTO t2 ( a, b ) VALUES ( 9 , 8 );
SELECT a FROM t2 WHERE a > 1 AND id > -16777216;
a
6
4
8
8
9
UPDATE t2 SET b = 0 WHERE a > 1 LIMIT 3;
ROLLBACK TO SAVEPOINT A;
ERROR 42000: SAVEPOINT A does not exist
DELETE FROM t2 WHERE a = 9 LIMIT 1;
SAVEPOINT A;
UPDATE t1 SET a = 8 WHERE b BETWEEN 1 and 9 LIMIT 2;
UPDATE t1 SET b = 8 WHERE a = 2 LIMIT 6;
COMMIT;
COMMIT;
INSERT INTO t2 ( a, b ) VALUES ( 8 , 9 );
DELETE FROM t1 WHERE b > 3 LIMIT 6;
UPDATE t2 SET b = 0 WHERE a < 5 LIMIT 0;
START TRANSACTION;
SELECT VERSION();
VERSION()
2010.04.1491
SELECT collation_name,character_set_name FROM data_dictionary.collations;
collation_name	character_set_name
utf8_general_ci	utf8_general_ci
utf8_bin	utf8_general_ci
utf8_unicode_ci	utf8_general_ci
utf8_icelandic_ci	utf8_general_ci
utf8_latvian_ci	utf8_general_ci
utf8_romanian_ci	utf8_general_ci
utf8_slovenian_ci	utf8_general_ci
utf8_polish_ci	utf8_general_ci
utf8_estonian_ci	utf8_general_ci
utf8_spanish_ci	utf8_general_ci
utf8_swedish_ci	utf8_general_ci
utf8_turkish_ci	utf8_general_ci
utf8_czech_ci	utf8_general_ci
utf8_danish_ci	utf8_general_ci
utf8_lithuanian_ci	utf8_general_ci
utf8_slovak_ci	utf8_general_ci
utf8_spanish2_ci	utf8_general_ci
utf8_roman_ci	utf8_general_ci
utf8_persian_ci	utf8_general_ci
utf8_esperanto_ci	utf8_general_ci
utf8_hungarian_ci	utf8_general_ci
utf8_sinhala_ci	utf8_general_ci
binary	binary
UPDATE t1 SET b = 2 WHERE a < 1 LIMIT 0;
UPDATE t2 SET id = 8 WHERE 1 = 1 LIMIT 9;
ERROR 23000: Duplicate entry '8' for key 'PRIMARY'
UPDATE t2 SET b = 7 WHERE a IN ( 8 , 6 , 2 ) LIMIT 6;
COMMIT;
COMMIT;
DELETE FROM t2 WHERE a IN ( 5 , 8 , 1 ) LIMIT 1;
DELETE FROM t1 WHERE 1 = 1 LIMIT 5;
INSERT INTO t1 ( a, b ) VALUES ( 0 , 4 );
SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE READ;
SAVEPOINT A;
SET AUTOCOMMIT=OFF;
DELETE FROM t2 WHERE a < 7 LIMIT 0;
UPDATE t2 SET id = 4 WHERE 1 = 1 LIMIT 0;
DELETE FROM t1 WHERE a IN ( 4 , 5 , 2 ) LIMIT 9;
INSERT INTO t2 ( a, b ) VALUES ( 6 , 0 );
DELETE FROM t1 WHERE id = 9 LIMIT 2;
UPDATE t2 SET a = 2 WHERE b BETWEEN 9 and 2 LIMIT 4;
SELECT a FROM t2 WHERE a BETWEEN 6 and 0;
a
INSERT INTO t2 ( a, b ) VALUES ( 0 , 0 );
SELECT a FROM t2 WHERE a BETWEEN 6 and 0 /* no additional predicate */;
a
INSERT INTO t1 ( a, b ) VALUES ( 6 , 8 );
SELECT a FROM t2 WHERE a BETWEEN 6 and 0 AND id > -16777216;
a
SAVEPOINT A;
SELECT b FROM t1 WHERE a < 5;
b
4
SELECT b FROM t1 WHERE a < 5 /* no additional predicate */;
b
4
SELECT b FROM t1 WHERE a < 5 AND id > -16777216;
b
4
DELETE FROM t2 WHERE id = 0 LIMIT 1;
SELECT a FROM t1 WHERE id < 0;
a
SELECT a FROM t1 WHERE id < 0 /* no additional predicate */;
a
SELECT a FROM t1 WHERE id < 0 AND id > -16777216;
a
UPDATE t1 SET a = 5 WHERE a < 1 LIMIT 2;
UPDATE t1 SET id = 0 WHERE 1 = 1 LIMIT 3;
ERROR 23000: Duplicate entry '0' for key 'PRIMARY'
UPDATE t2 SET b = 8 WHERE b = 0 LIMIT 1;
SELECT a FROM t1 WHERE id = 4;
a
SELECT a FROM t1 WHERE id = 4 /* no additional predicate */;
a
SELECT a FROM t1 WHERE id = 4 AND id > -16777216;
a
UPDATE t2 SET a = 9 WHERE b > 4 LIMIT 9;
UPDATE t2 SET id = 9 WHERE b BETWEEN 7 and 1 LIMIT 1;
DELETE FROM t2 WHERE b BETWEEN 6 and 8 LIMIT 6;
COMMIT;
ROLLBACK;
UPDATE t2 SET a = 5 WHERE b < 2 LIMIT 9;
SELECT b FROM t1 WHERE b IN ( 8 , 3 , 5 );
b
8
SELECT b FROM t1 WHERE b IN ( 8 , 3 , 5 ) /* no additional predicate */;
b
8
INSERT INTO t2 ( a, b ) VALUES ( 4 , 4 );
SELECT b FROM t1 WHERE b IN ( 8 , 3 , 5 ) AND id > -16777216;
b
8
SELECT b FROM t2 WHERE id IN ( 0 , 1 , 1 );
b
SELECT a FROM t1 WHERE 1 = 1;
a
5
6
SELECT b FROM t2 WHERE id IN ( 0 , 1 , 1 ) /* no additional predicate */;
b
SELECT a FROM t1 WHERE 1 = 1 /* no additional predicate */;
a
5
6
SELECT b FROM t2 WHERE id IN ( 0 , 1 , 1 ) AND id > -16777216;
b
SELECT a FROM t1 WHERE 1 = 1 AND id > -16777216;
a
5
6
UPDATE t2 SET b = 2 WHERE id = 2 LIMIT 9;
SELECT b FROM t2 WHERE b IN ( 1 , 2 , 3 );
b
UPDATE t2 SET a = 0 WHERE id = 1 LIMIT 3;
SELECT b FROM t2 WHERE b IN ( 1 , 2 , 3 ) /* no additional predicate */;
b
SELECT id FROM t1 WHERE b < 9;
id
31
32
SELECT b FROM t2 WHERE b IN ( 1 , 2 , 3 ) AND id > -16777216;
b
SELECT id FROM t1 WHERE b < 9 /* no additional predicate */;
id
31
32
COMMIT;
ROLLBACK TO SAVEPOINT A;
ERROR 42000: SAVEPOINT A does not exist
SELECT id FROM t1 WHERE b < 9 AND id > -16777216;
id
31
32
SELECT a FROM t2 WHERE id BETWEEN 1 and 4;
a
INSERT INTO t2 ( a, b ) VALUES ( 3 , 0 );
START TRANSACTION;
SELECT a FROM t2 WHERE id BETWEEN 1 and 4 /* no additional predicate */;
a
SELECT a FROM t2 WHERE id BETWEEN 1 and 4 AND id > -16777216;
a
UPDATE t2 SET id = 7 WHERE b = 8 LIMIT 8;
SELECT b FROM t2 WHERE a BETWEEN 6 and 8;
b
UPDATE t1 SET id = 8 WHERE 1 = 1 LIMIT 8;
ERROR 23000: Duplicate entry '8' for key 'PRIMARY'
SELECT b FROM t2 WHERE a BETWEEN 6 and 8 /* no additional predicate */;
b
ROLLBACK TO SAVEPOINT A;
ERROR 42000: SAVEPOINT A does not exist
SELECT b FROM t2 WHERE a BETWEEN 6 and 8 AND id > -16777216;
b
UPDATE t1 SET a = 0 WHERE id > 7 LIMIT 1;
UPDATE t1 SET b = 1 WHERE b < 6 LIMIT 6;
INSERT INTO t1 ( a, b ) VALUES ( 6 , 2 );
INSERT INTO t2 ( a, b ) VALUES ( 4 , 4 );
UPDATE t1 SET id = 9 WHERE b > 8 LIMIT 3;
DELETE FROM t2 WHERE 1 = 1 LIMIT 4;
UPDATE t2 SET b = 1 WHERE b > 2 LIMIT 5;
SELECT id FROM t1 WHERE 1 = 1;
id
31
32
33
ROLLBACK TO SAVEPOINT A;
ERROR 42000: SAVEPOINT A does not exist
SELECT id FROM t1 WHERE 1 = 1 /* no additional predicate */;
id
31
32
33
SELECT id FROM t1 WHERE 1 = 1 AND id > -16777216;
id
31
32
33
UPDATE t2 SET b = 9 WHERE a IN ( 9 , 1 , 9 ) LIMIT 6;
UPDATE t2 SET id = 1 WHERE a > 6 LIMIT 8;
INSERT INTO t1 ( a, b ) VALUES ( 5 , 1 );
DELETE FROM t1 WHERE id IN ( 0 , 7 , 4 ) LIMIT 0;
DELETE FROM t1 WHERE id > 8 LIMIT 4;
SAVEPOINT A;
SELECT id FROM t2 WHERE 1 = 1;
id
33
SELECT id FROM t2 WHERE 1 = 1 /* no additional predicate */;
id
33
SELECT id FROM t2 WHERE 1 = 1 AND id > -16777216;
id
33
UPDATE t2 SET id = 5 WHERE id > 7 LIMIT 6;
DELETE FROM t1 WHERE id IN ( 1 , 5 , 3 ) LIMIT 8;
INSERT INTO t2 ( a, b ) VALUES ( 9 , 0 );
DELETE FROM t2 WHERE 1 = 1 LIMIT 2;
INSERT INTO t1 ( a, b ) VALUES ( 7 , 6 );
UPDATE t2 SET a = 0 WHERE id < 9 LIMIT 0;
UPDATE t1 SET a = 8 WHERE 1 = 1 LIMIT 5;
ROLLBACK TO SAVEPOINT A;
ROLLBACK;
INSERT INTO t2 ( a, b ) VALUES ( 7 , 3 );
SELECT id FROM t2 WHERE a > 2;
id
32
31
29
30
35
SELECT id FROM t2 WHERE a > 2 /* no additional predicate */;
id
32
31
29
30
35
SELECT id FROM t2 WHERE a > 2 AND id > -16777216;
id
29
30
31
32
35
ROLLBACK;
SELECT b FROM t2 WHERE id < 2;
b
SELECT b FROM t2 WHERE id < 2 /* no additional predicate */;
b
SELECT b FROM t2 WHERE id < 2 AND id > -16777216;
b
SELECT b FROM t1 WHERE b = 0;
b
SELECT a FROM t2 WHERE a BETWEEN 5 and 8;
a
5
5
SELECT b FROM t1 WHERE b = 0 /* no additional predicate */;
b
SELECT a FROM t2 WHERE a BETWEEN 5 and 8 /* no additional predicate */;
a
5
5
SELECT b FROM t1 WHERE b = 0 AND id > -16777216;
b
SELECT a FROM t2 WHERE a BETWEEN 5 and 8 AND id > -16777216;
a
5
5
UPDATE t1 SET b = 0 WHERE id < 0 LIMIT 6;
INSERT INTO t1 ( a, b ) VALUES ( 1 , 9 );
SET AUTOCOMMIT=1;
UPDATE t2 SET a = 8 WHERE 1 = 1 LIMIT 1;
SELECT b FROM t1 WHERE id BETWEEN 7 and 0;
b
UPDATE t2 SET a = 0 WHERE id IN ( 9 , 3 , 6 ) LIMIT 1;
SELECT DATABASE();
DATABASE()
test
SELECT b FROM t1 WHERE id BETWEEN 7 and 0 /* no additional predicate */;
b
SAVEPOINT A;
SELECT b FROM t1 WHERE id BETWEEN 7 and 0 AND id > -16777216;
b
UPDATE t2 SET b = 8 WHERE a IN ( 5 , 5 , 7 ) LIMIT 0;
UPDATE t1 SET b = 5 WHERE id < 3 LIMIT 8;
SELECT a FROM t1 WHERE a IN ( 8 , 2 , 4 );
a
SELECT a FROM t1 WHERE a IN ( 8 , 2 , 4 ) /* no additional predicate */;
a
SELECT a FROM t1 WHERE a IN ( 8 , 2 , 4 ) AND id > -16777216;
a
DELETE FROM t2 WHERE id IN ( 7 , 6 , 4 ) LIMIT 5;
SELECT a FROM t1 WHERE 1 = 1;
a
5
6
1
SELECT a FROM t1 WHERE 1 = 1 /* no additional predicate */;
a
5
6
1
SELECT a FROM t1 WHERE 1 = 1 AND id > -16777216;
a
5
6
1
ROLLBACK TO SAVEPOINT A;
ERROR 42000: SAVEPOINT A does not exist
INSERT INTO t2 ( a, b ) VALUES ( 6 , 6 );
SELECT a FROM t2 WHERE id BETWEEN 5 and 1;
a
SELECT a FROM t2 WHERE id BETWEEN 5 and 1 /* no additional predicate */;
a
SELECT a FROM t2 WHERE id BETWEEN 5 and 1 AND id > -16777216;
a
INSERT INTO t2 ( a, b ) VALUES ( 7 , 9 );
COMMIT;
START TRANSACTION;
COMMIT;
UPDATE t2 SET b = 8 WHERE b = 9 LIMIT 1;
DELETE FROM t1 WHERE 1 = 1 LIMIT 0;
UPDATE t2 SET a = 0 WHERE b = 0 LIMIT 4;
DELETE FROM t1 WHERE a < 1 LIMIT 4;
INSERT INTO t2 ( a, b ) VALUES ( 0 , 1 );
SELECT a FROM t1 WHERE a BETWEEN 2 and 1;
a
SELECT a FROM t1 WHERE a BETWEEN 2 and 1 /* no additional predicate */;
a
SELECT a FROM t1 WHERE a BETWEEN 2 and 1 AND id > -16777216;
a
UPDATE t2 SET b = 1 WHERE b = 3 LIMIT 0;
SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE READ;
SET AUTOCOMMIT=OFF;
INSERT INTO t2 ( a, b ) VALUES ( 1 , 0 );
SELECT id FROM t2 WHERE a = 3;
id
SELECT b FROM t1 WHERE a = 7;
b
SELECT id FROM t2 WHERE a = 3 /* no additional predicate */;
id
SELECT b FROM t1 WHERE a = 7 /* no additional predicate */;
b
SELECT id FROM t2 WHERE a = 3 AND id > -16777216;
id
SELECT b FROM t1 WHERE a = 7 AND id > -16777216;
b
SAVEPOINT A;
SAVEPOINT A;
INSERT INTO t1 ( a, b ) VALUES ( 4 , 0 );
UPDATE t1 SET b = 8 WHERE a BETWEEN 0 and 0 LIMIT 0;
DELETE FROM t1 WHERE 1 = 1 LIMIT 7;
ROLLBACK;
SAVEPOINT A;
SELECT b FROM t1 WHERE a = 3;
b
SELECT b FROM t1 WHERE a = 3 /* no additional predicate */;
b
UPDATE t2 SET b = 1 WHERE 1 = 1 LIMIT 1;
SELECT b FROM t1 WHERE a = 3 AND id > -16777216;
b
DELETE FROM t1 WHERE a BETWEEN 0 and 2 LIMIT 8;
DELETE FROM t2 WHERE b IN ( 3 , 2 , 0 ) LIMIT 9;
SELECT b FROM t1 WHERE b = 1;
b
INSERT INTO t1 ( a, b ) VALUES ( 0 , 1 );
SELECT id FROM t2 WHERE id IN ( 9 , 5 , 7 );
id
SELECT b FROM t1 WHERE b = 1 /* no additional predicate */;
b
1
INSERT INTO t2 ( a, b ) VALUES ( 2 , 7 );
SELECT id FROM t2 WHERE id IN ( 9 , 5 , 7 ) /* no additional predicate */;
id
SELECT b FROM t1 WHERE b = 1 AND id > -16777216;
b
1
UPDATE t1 SET id = 9 WHERE b BETWEEN 9 and 0 LIMIT 5;
SELECT id FROM t2 WHERE id IN ( 9 , 5 , 7 ) AND id > -16777216;
id
INSERT INTO t1 ( a, b ) VALUES ( 3 , 0 );
INSERT INTO t1 ( a, b ) VALUES ( 1 , 9 );
SELECT id FROM t1 WHERE b BETWEEN 2 and 3;
id
ROLLBACK TO SAVEPOINT A;
SELECT id FROM t1 WHERE b BETWEEN 2 and 3 /* no additional predicate */;
id
SELECT id FROM t1 WHERE b BETWEEN 2 and 3 AND id > -16777216;
id
ROLLBACK TO SAVEPOINT A;
DELETE FROM t2 WHERE 1 = 1 LIMIT 3;
SELECT b FROM t1 WHERE id BETWEEN 0 and 0;
b
SELECT b FROM t1 WHERE id BETWEEN 0 and 0 /* no additional predicate */;
b
SELECT b FROM t1 WHERE id BETWEEN 0 and 0 AND id > -16777216;
b
INSERT INTO t1 ( a, b ) VALUES ( 5 , 8 );
SAVEPOINT A;
SELECT id FROM t1 WHERE 1 = 1;
id
31
32
38
39
40
41
SELECT id FROM t1 WHERE 1 = 1 /* no additional predicate */;
id
31
32
38
39
40
41
SELECT id FROM t1 WHERE 1 = 1 AND id > -16777216;
id
31
32
38
39
40
41
DELETE FROM t1 WHERE b IN ( 8 , 0 , 2 ) LIMIT 1;
DELETE FROM t2 WHERE id < 2 LIMIT 2;
UPDATE t1 SET id = 3 WHERE a > 5 LIMIT 4;
DELETE FROM t2 WHERE id < 5 LIMIT 4;
UPDATE t1 SET b = 7 WHERE a < 9 LIMIT 0;
UPDATE t1 SET a = 9 WHERE b > 3 LIMIT 1;
UPDATE t2 SET id = 2 WHERE b > 0 LIMIT 6;
ERROR 23000: Duplicate entry '2' for key 'PRIMARY'
START TRANSACTION;
START TRANSACTION;
UPDATE t1 SET a = 2 WHERE b IN ( 5 , 5 , 0 ) LIMIT 7;
SAVEPOINT A;
SELECT id FROM t1 WHERE a < 9;
id
38
40
39
41
SELECT id FROM t1 WHERE a < 9 /* no additional predicate */;
id
38
40
39
41
SELECT id FROM t2 WHERE a > 9;
id
SELECT id FROM t1 WHERE a < 9 AND id > -16777216;
id
38
39
40
41
INSERT INTO t2 ( a, b ) VALUES ( 4 , 3 );
SELECT id FROM t2 WHERE a > 9 /* no additional predicate */;
id
SAVEPOINT A;
SELECT id FROM t1 WHERE id < 9;
id
SELECT id FROM t1 WHERE id < 9 /* no additional predicate */;
id
SELECT id FROM t2 WHERE a > 9 AND id > -16777216;
id
SELECT id FROM t1 WHERE id < 9 AND id > -16777216;
id
ROLLBACK;
ROLLBACK;
ROLLBACK;
SELECT id FROM t2 WHERE b BETWEEN 9 and 1;
id
SELECT id FROM t2 WHERE b BETWEEN 9 and 1 /* no additional predicate */;
id
SELECT id FROM t2 WHERE b BETWEEN 9 and 1 AND id > -16777216;
id
SAVEPOINT A;
DELETE FROM t1 WHERE a > 2 LIMIT 3;
DELETE FROM t2 WHERE a < 0 LIMIT 7;
UPDATE t1 SET b = 5 WHERE a IN ( 9 , 4 , 7 ) LIMIT 7;
SELECT b FROM t1 WHERE id < 6;
b
INSERT INTO t2 ( a, b ) VALUES ( 1 , 0 );
SELECT b FROM t1 WHERE id < 6 /* no additional predicate */;
b
SELECT b FROM t1 WHERE id < 6 AND id > -16777216;
b
SELECT a FROM t1 WHERE a BETWEEN 6 and 8;
a
SET AUTOCOMMIT=1;
SELECT a FROM t1 WHERE a BETWEEN 6 and 8 /* no additional predicate */;
a
SELECT DATABASE();
DATABASE()
test
INSERT INTO t1 ( a, b ) VALUES ( 7 , 3 );
SELECT a FROM t1 WHERE a BETWEEN 6 and 8 AND id > -16777216;
a
7
SELECT id FROM t2 WHERE b = 6;
id
INSERT INTO t1 ( a, b ) VALUES ( 9 , 4 );
SELECT id FROM t2 WHERE b = 6 /* no additional predicate */;
id
ROLLBACK TO SAVEPOINT A;
SELECT id FROM t2 WHERE b = 6 AND id > -16777216;
id
UPDATE t1 SET b = 4 WHERE b < 9 LIMIT 0;
DELETE FROM t2 WHERE a < 1 LIMIT 1;
INSERT INTO t2 ( a, b ) VALUES ( 6 , 6 );
SAVEPOINT A;
DELETE FROM t1 WHERE id IN ( 6 , 8 , 8 ) LIMIT 6;
UPDATE t1 SET a = 1 WHERE a = 9 LIMIT 1;
UPDATE t2 SET b = 7 WHERE id > 6 LIMIT 0;
DELETE FROM t2 WHERE id < 1 LIMIT 4;
DELETE FROM t1 WHERE a > 7 LIMIT 7;
ROLLBACK;
DELETE FROM t2 WHERE b IN ( 8 , 4 , 5 ) LIMIT 5;
UPDATE t2 SET a = 7 WHERE b > 4 LIMIT 0;
UPDATE t1 SET b = 6 WHERE b > 4 LIMIT 8;
SAVEPOINT A;
DELETE FROM t1 WHERE a > 9 LIMIT 3;
INSERT INTO t2 ( a, b ) VALUES ( 3 , 5 );
COMMIT;
SAVEPOINT A;
ROLLBACK TO SAVEPOINT A;
SELECT b FROM t2 WHERE b BETWEEN 0 and 6;
b
3
0
6
5
SELECT b FROM t2 WHERE b BETWEEN 0 and 6 /* no additional predicate */;
b
3
0
6
5
SELECT b FROM t2 WHERE b BETWEEN 0 and 6 AND id > -16777216;
b
3
0
6
5
DELETE FROM t1 WHERE b > 4 LIMIT 9;
UPDATE t1 SET b = 1 WHERE id > 2 LIMIT 2;
SELECT b FROM t2 WHERE 1 = 1;
b
7
3
0
6
5
SELECT b FROM t2 WHERE 1 = 1 /* no additional predicate */;
b
7
3
0
6
5
SELECT b FROM t2 WHERE 1 = 1 AND id > -16777216;
b
7
3
0
6
5
DELETE FROM t1 WHERE a = 7 LIMIT 4;
DELETE FROM t1 WHERE id > 6 LIMIT 3;
ROLLBACK;
DELETE FROM t1 WHERE a > 7 LIMIT 2;
INSERT INTO t2 ( a, b ) VALUES ( 8 , 3 );
DELETE FROM t1 WHERE a BETWEEN 0 and 6 LIMIT 0;
SELECT b FROM t2 WHERE id = 6;
b
DELETE FROM t1 WHERE b IN ( 9 , 1 , 0 ) LIMIT 2;
SELECT b FROM t2 WHERE id = 6 /* no additional predicate */;
b
INSERT INTO t1 ( a, b ) VALUES ( 7 , 5 );
SELECT b FROM t2 WHERE id = 6 AND id > -16777216;
b
INSERT INTO t1 ( a, b ) VALUES ( 2 , 7 );
UPDATE t2 SET b = 6 WHERE b = 0 LIMIT 2;
INSERT INTO t1 ( a, b ) VALUES ( 1 , 5 );
INSERT INTO t2 ( a, b ) VALUES ( 1 , 5 );
SELECT a FROM t2 WHERE b IN ( 8 , 1 , 1 );
a
SELECT a FROM t2 WHERE b IN ( 8 , 1 , 1 ) /* no additional predicate */;
a
SELECT a FROM t2 WHERE b IN ( 8 , 1 , 1 ) AND id > -16777216;
a
SELECT a FROM t1 WHERE b < 7;
a
7
1
SELECT a FROM t1 WHERE b < 7 /* no additional predicate */;
a
7
1
SELECT a FROM t1 WHERE b < 7 AND id > -16777216;
a
7
1
UPDATE t2 SET b = 5 WHERE b IN ( 8 , 0 , 6 ) LIMIT 3;
START TRANSACTION;
UPDATE t2 SET id = 1 WHERE 1 = 1 LIMIT 2;
ERROR 23000: Duplicate entry '1' for key 'PRIMARY'
UPDATE t1 SET a = 4 WHERE a IN ( 3 , 9 , 7 ) LIMIT 6;
UPDATE t2 SET id = 9 WHERE 1 = 1 LIMIT 8;
ERROR 23000: Duplicate entry '9' for key 'PRIMARY'
SELECT id FROM t2 WHERE id > 5;
id
40
41
42
43
44
45
46
SELECT a FROM t2 WHERE b = 7;
a
2
SELECT id FROM t2 WHERE id > 5 /* no additional predicate */;
id
40
41
42
43
44
45
46
SELECT a FROM t2 WHERE b = 7 /* no additional predicate */;
a
2
SELECT a FROM t2 WHERE b = 7 AND id > -16777216;
a
2
SELECT id FROM t2 WHERE id > 5 AND id > -16777216;
id
40
41
42
43
44
45
46
SELECT VERSION();
VERSION()
2010.04.1491
SELECT collation_name,character_set_name FROM data_dictionary.collations;
collation_name	character_set_name
utf8_general_ci	utf8_general_ci
utf8_bin	utf8_general_ci
utf8_unicode_ci	utf8_general_ci
utf8_icelandic_ci	utf8_general_ci
utf8_latvian_ci	utf8_general_ci
utf8_romanian_ci	utf8_general_ci
utf8_slovenian_ci	utf8_general_ci
utf8_polish_ci	utf8_general_ci
utf8_estonian_ci	utf8_general_ci
utf8_spanish_ci	utf8_general_ci
utf8_swedish_ci	utf8_general_ci
utf8_turkish_ci	utf8_general_ci
utf8_czech_ci	utf8_general_ci
utf8_danish_ci	utf8_general_ci
utf8_lithuanian_ci	utf8_general_ci
utf8_slovak_ci	utf8_general_ci
utf8_spanish2_ci	utf8_general_ci
utf8_roman_ci	utf8_general_ci
utf8_persian_ci	utf8_general_ci
utf8_esperanto_ci	utf8_general_ci
utf8_hungarian_ci	utf8_general_ci
utf8_sinhala_ci	utf8_general_ci
binary	binary
ROLLBACK;
SELECT id FROM t2 WHERE b BETWEEN 8 and 6;
id
SELECT id FROM t2 WHERE b BETWEEN 8 and 6 /* no additional predicate */;
id
SELECT id FROM t2 WHERE b BETWEEN 8 and 6 AND id > -16777216;
id
SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE READ;
DELETE FROM t2 WHERE id = 7 LIMIT 9;
SET AUTOCOMMIT=OFF;
DELETE FROM t1 WHERE id IN ( 5 , 6 , 6 ) LIMIT 9;
DELETE FROM t2 WHERE id BETWEEN 5 and 5 LIMIT 0;
UPDATE t1 SET a = 5 WHERE b = 7 LIMIT 1;
START TRANSACTION;
UPDATE t1 SET a = 7 WHERE a > 7 LIMIT 8;
DELETE FROM t1 WHERE a = 4 LIMIT 2;
SELECT id FROM t2 WHERE id > 6;
id
40
41
42
43
44
45
46
SELECT b FROM t2 WHERE b = 8;
b
SELECT b FROM t2 WHERE b = 8 /* no additional predicate */;
b
SELECT b FROM t2 WHERE b = 8 AND id > -16777216;
b
SELECT id FROM t2 WHERE id > 6 /* no additional predicate */;
id
40
41
42
43
44
45
46
DELETE FROM t1 WHERE 1 = 1 LIMIT 6;
SELECT id FROM t2 WHERE id > 6 AND id > -16777216;
id
40
41
42
43
44
45
46
START TRANSACTION;
ROLLBACK;
INSERT INTO t1 ( a, b ) VALUES ( 0 , 7 );
DELETE FROM t1 WHERE b IN ( 7 , 3 , 6 ) LIMIT 6;
DELETE FROM t2 WHERE 1 = 1 LIMIT 2;
SELECT id FROM t1 WHERE id IN ( 2 , 2 , 2 );
id
SELECT id FROM t1 WHERE id IN ( 2 , 2 , 2 ) /* no additional predicate */;
id
UPDATE t2 SET b = 2 WHERE a = 7 LIMIT 3;
SELECT id FROM t1 WHERE id IN ( 2 , 2 , 2 ) AND id > -16777216;
id
UPDATE t2 SET b = 3 WHERE a < 3 LIMIT 1;
UPDATE t1 SET id = 6 WHERE a < 1 LIMIT 6;
UPDATE t2 SET b = 3 WHERE 1 = 1 LIMIT 5;
DELETE FROM t2 WHERE b = 3 LIMIT 9;
UPDATE t2 SET id = 2 WHERE id BETWEEN 0 and 0 LIMIT 1;
DELETE FROM t1 WHERE b BETWEEN 5 and 9 LIMIT 5;
UPDATE t2 SET id = 8 WHERE id = 9 LIMIT 2;
START TRANSACTION;
ROLLBACK;
UPDATE t1 SET b = 0 WHERE a BETWEEN 8 and 8 LIMIT 8;
ROLLBACK TO SAVEPOINT A;
UPDATE t1 SET b = 0 WHERE 1 = 1 LIMIT 6;
SELECT b FROM t1 WHERE id = 5;
b
INSERT INTO t1 ( a, b ) VALUES ( 0 , 5 );
SELECT b FROM t1 WHERE id = 5 /* no additional predicate */;
b
SELECT b FROM t1 WHERE id > 7;
b
5
SELECT b FROM t1 WHERE id = 5 AND id > -16777216;
b
SELECT b FROM t1 WHERE id > 7 /* no additional predicate */;
b
5
DELETE FROM t1 WHERE 1 = 1 LIMIT 4;
SELECT b FROM t1 WHERE id > 7 AND id > -16777216;
b
UPDATE t1 SET a = 8 WHERE a BETWEEN 3 and 5 LIMIT 9;
SELECT b FROM t1 WHERE id > 8;
b
SELECT b FROM t1 WHERE id > 8 /* no additional predicate */;
b
UPDATE t2 SET id = 9 WHERE b = 7 LIMIT 2;
SELECT b FROM t1 WHERE id > 8 AND id > -16777216;
b
DELETE FROM t2 WHERE b > 9 LIMIT 4;
SELECT a FROM t1 WHERE a > 0;
a
SELECT a FROM t1 WHERE a > 0 /* no additional predicate */;
a
SELECT a FROM t1 WHERE a > 0 AND id > -16777216;
a
DELETE FROM t2 WHERE a < 5 LIMIT 6;
INSERT INTO t2 ( a, b ) VALUES ( 2 , 7 );
SELECT id FROM t2 WHERE 1 = 1;
id
47
SELECT id FROM t2 WHERE 1 = 1 /* no additional predicate */;
id
47
DELETE FROM t2 WHERE id BETWEEN 1 and 9 LIMIT 8;
DELETE FROM t2 WHERE id = 9 LIMIT 5;
UPDATE t1 SET id = 9 WHERE b > 5 LIMIT 2;
SELECT id FROM t2 WHERE 1 = 1 AND id > -16777216;
id
47
INSERT INTO t1 ( a, b ) VALUES ( 0 , 4 );
INSERT INTO t2 ( a, b ) VALUES ( 9 , 9 );
INSERT INTO t2 ( a, b ) VALUES ( 1 , 2 );
UPDATE t2 SET a = 1 WHERE 1 = 1 LIMIT 4;
SAVEPOINT A;
DELETE FROM t1 WHERE a > 0 LIMIT 3;
SELECT b FROM t2 WHERE id IN ( 0 , 0 , 3 );
b
SELECT b FROM t2 WHERE id IN ( 0 , 0 , 3 ) /* no additional predicate */;
b
SELECT a FROM t2 WHERE id BETWEEN 3 and 0;
a
SELECT a FROM t2 WHERE id BETWEEN 3 and 0 /* no additional predicate */;
a
SELECT b FROM t2 WHERE id IN ( 0 , 0 , 3 ) AND id > -16777216;
b
SELECT a FROM t2 WHERE id BETWEEN 3 and 0 AND id > -16777216;
a
INSERT INTO t2 ( a, b ) VALUES ( 6 , 9 );
DELETE FROM t1 WHERE 1 = 1 LIMIT 1;
UPDATE t1 SET b = 1 WHERE 1 = 1 LIMIT 2;
INSERT INTO t2 ( a, b ) VALUES ( 1 , 6 );
UPDATE t1 SET b = 7 WHERE b < 3 LIMIT 6;
UPDATE t1 SET a = 3 WHERE id = 1 LIMIT 0;
UPDATE t2 SET b = 1 WHERE id = 3 LIMIT 9;
DELETE FROM t1 WHERE a > 3 LIMIT 6;
SELECT id FROM t2 WHERE a BETWEEN 2 and 2;
id
UPDATE t1 SET a = 2 WHERE a BETWEEN 8 and 2 LIMIT 1;
SELECT id FROM t2 WHERE a BETWEEN 2 and 2 /* no additional predicate */;
id
SELECT id FROM t2 WHERE a BETWEEN 2 and 2 AND id > -16777216;
id
UPDATE t1 SET a = 2 WHERE b > 3 LIMIT 9;
SAVEPOINT A;
INSERT INTO t2 ( a, b ) VALUES ( 3 , 0 );
INSERT INTO t1 ( a, b ) VALUES ( 3 , 1 );
SELECT id FROM t2 WHERE a BETWEEN 3 and 9;
id
52
50
SELECT id FROM t2 WHERE a BETWEEN 3 and 9 /* no additional predicate */;
id
52
50
SELECT id FROM t2 WHERE a BETWEEN 3 and 9 AND id > -16777216;
id
50
52
UPDATE t1 SET b = 9 WHERE id > 8 LIMIT 5;
UPDATE t2 SET id = 1 WHERE b < 8 LIMIT 2;
ERROR 23000: Duplicate entry '1' for key 'PRIMARY'
DELETE FROM t1 WHERE id < 5 LIMIT 8;
DELETE FROM t1 WHERE a IN ( 6 , 6 , 9 ) LIMIT 1;
UPDATE t2 SET id = 7 WHERE 1 = 1 LIMIT 6;
ERROR 23000: Duplicate entry '7' for key 'PRIMARY'
SELECT id FROM t1 WHERE id IN ( 7 , 0 , 0 );
id
ROLLBACK;
SELECT id FROM t1 WHERE id IN ( 7 , 0 , 0 ) /* no additional predicate */;
id
COMMIT;
SELECT id FROM t1 WHERE id IN ( 7 , 0 , 0 ) AND id > -16777216;
id
SELECT a FROM t1 WHERE a IN ( 8 , 3 , 6 );
a
3
UPDATE t2 SET id = 5 WHERE id = 9 LIMIT 4;
SELECT a FROM t1 WHERE a IN ( 8 , 3 , 6 ) /* no additional predicate */;
a
3
UPDATE t2 SET a = 8 WHERE id = 4 LIMIT 0;
SELECT a FROM t1 WHERE a IN ( 8 , 3 , 6 ) AND id > -16777216;
a
3
DELETE FROM t2 WHERE a BETWEEN 7 and 3 LIMIT 7;
COMMIT;
INSERT INTO t1 ( a, b ) VALUES ( 9 , 2 );
SAVEPOINT A;
SELECT a FROM t1 WHERE id = 9;
a
SELECT a FROM t1 WHERE id = 9 /* no additional predicate */;
a
SELECT a FROM t1 WHERE b IN ( 9 , 0 , 1 );
a
3
SELECT a FROM t1 WHERE id = 9 AND id > -16777216;
a
SELECT a FROM t1 WHERE b IN ( 9 , 0 , 1 ) /* no additional predicate */;
a
3
INSERT INTO t2 ( a, b ) VALUES ( 9 , 1 );
SELECT a FROM t1 WHERE b IN ( 9 , 0 , 1 ) AND id > -16777216;
a
3
DELETE FROM t1 WHERE id IN ( 2 , 0 , 9 ) LIMIT 7;
COMMIT;
UPDATE t1 SET b = 4 WHERE a = 6 LIMIT 5;
SAVEPOINT A;
DELETE FROM t1 WHERE a BETWEEN 3 and 3 LIMIT 3;
INSERT INTO t1 ( a, b ) VALUES ( 7 , 4 );
SELECT a FROM t2 WHERE id BETWEEN 9 and 5;
a
UPDATE t1 SET id = 2 WHERE a > 0 LIMIT 6;
ERROR 23000: Duplicate entry '2' for key 'PRIMARY'
SELECT a FROM t2 WHERE id BETWEEN 9 and 5 /* no additional predicate */;
a
INSERT INTO t2 ( a, b ) VALUES ( 0 , 3 );
SELECT id FROM t2 WHERE b < 9;
id
47
49
51
52
53
54
SELECT a FROM t2 WHERE id BETWEEN 9 and 5 AND id > -16777216;
a
SELECT id FROM t2 WHERE b < 9 /* no additional predicate */;
id
47
49
51
52
53
54
SELECT b FROM t2 WHERE a > 3;
b
9
1
SELECT id FROM t2 WHERE b < 9 AND id > -16777216;
id
47
49
51
52
53
54
UPDATE t2 SET id = 6 WHERE b = 8 LIMIT 6;
UPDATE t1 SET a = 7 WHERE a = 4 LIMIT 0;
SELECT b FROM t2 WHERE a > 3 /* no additional predicate */;
b
9
1
UPDATE t1 SET id = 4 WHERE id = 0 LIMIT 2;
INSERT INTO t1 ( a, b ) VALUES ( 9 , 2 );
DELETE FROM t1 WHERE id > 0 LIMIT 8;
SELECT b FROM t2 WHERE a > 3 AND id > -16777216;
b
9
1
START TRANSACTION;
UPDATE t2 SET a = 6 WHERE id = 9 LIMIT 9;
SELECT b FROM t1 WHERE a BETWEEN 5 and 3;
b
SELECT b FROM t1 WHERE a BETWEEN 5 and 3 /* no additional predicate */;
b
DELETE FROM t2 WHERE b IN ( 4 , 0 , 3 ) LIMIT 2;
SELECT b FROM t1 WHERE a BETWEEN 5 and 3 AND id > -16777216;
b
ROLLBACK TO SAVEPOINT A;
SELECT a FROM t2 WHERE b < 5;
a
1
9
SELECT a FROM t2 WHERE b < 5 /* no additional predicate */;
a
1
9
UPDATE t2 SET a = 9 WHERE 1 = 1 LIMIT 1;
COMMIT;
SELECT a FROM t2 WHERE b < 5 AND id > -16777216;
a
1
9
UPDATE t1 SET id = 1 WHERE b < 2 LIMIT 6;
INSERT INTO t1 ( a, b ) VALUES ( 9 , 0 );
UPDATE t2 SET a = 5 WHERE b BETWEEN 8 and 0 LIMIT 9;
DELETE FROM t2 WHERE b IN ( 9 , 2 , 3 ) LIMIT 7;
UPDATE t1 SET b = 5 WHERE id IN ( 0 , 8 , 9 ) LIMIT 7;
SAVEPOINT A;
DELETE FROM t2 WHERE id BETWEEN 5 and 4 LIMIT 1;
DELETE FROM t2 WHERE b BETWEEN 3 and 3 LIMIT 4;
SELECT id FROM t2 WHERE b < 6;
id
53
SELECT id FROM t2 WHERE b < 6 /* no additional predicate */;
id
53
UPDATE t1 SET b = 8 WHERE id BETWEEN 7 and 6 LIMIT 1;
DELETE FROM t1 WHERE id = 8 LIMIT 5;
SELECT id FROM t2 WHERE b < 6 AND id > -16777216;
id
53
ROLLBACK TO SAVEPOINT A;
DELETE FROM t1 WHERE id = 2 LIMIT 6;
SELECT a FROM t1 WHERE id > 7;
a
9
COMMIT;
SELECT a FROM t1 WHERE id > 7 /* no additional predicate */;
a
9
SELECT id FROM t2 WHERE id < 6;
id
SELECT a FROM t1 WHERE id > 7 AND id > -16777216;
a
9
SELECT id FROM t2 WHERE id < 6 /* no additional predicate */;
id
SELECT id FROM t2 WHERE id < 6 AND id > -16777216;
id
COMMIT;
UPDATE t2 SET b = 6 WHERE 1 = 1 LIMIT 8;
COMMIT;
SELECT b FROM t2 WHERE a > 6;
b
6
6
INSERT INTO t2 ( a, b ) VALUES ( 3 , 0 );
UPDATE t1 SET id = 2 WHERE b = 9 LIMIT 4;
SELECT b FROM t2 WHERE a > 6 /* no additional predicate */;
b
6
6
SELECT b FROM t2 WHERE a > 6 AND id > -16777216;
b
6
6
DELETE FROM t2 WHERE a IN ( 5 , 7 , 6 ) LIMIT 1;
DELETE FROM t1 WHERE b IN ( 2 , 7 , 3 ) LIMIT 1;
SAVEPOINT A;
DELETE FROM t2 WHERE b BETWEEN 3 and 7 LIMIT 2;
DELETE FROM t2 WHERE id IN ( 3 , 7 , 6 ) LIMIT 6;
DELETE FROM t1 WHERE b = 8 LIMIT 0;
DELETE FROM t1 WHERE a = 1 LIMIT 3;
DELETE FROM t2 WHERE id < 8 LIMIT 9;
DELETE FROM t1 WHERE a < 9 LIMIT 3;
INSERT INTO t2 ( a, b ) VALUES ( 7 , 3 );
DELETE FROM t1 WHERE b IN ( 7 , 0 , 1 ) LIMIT 9;
SELECT a FROM t1 WHERE id = 8;
a
SELECT a FROM t1 WHERE id = 8 /* no additional predicate */;
a
SELECT a FROM t1 WHERE id = 8 AND id > -16777216;
a
DELETE FROM t1 WHERE id > 5 LIMIT 0;
UPDATE t2 SET a = 4 WHERE 1 = 1 LIMIT 5;
SELECT id FROM t2 WHERE a > 6;
id
SELECT id FROM t2 WHERE a > 6 /* no additional predicate */;
id
SELECT id FROM t2 WHERE a > 6 AND id > -16777216;
id
UPDATE t1 SET id = 7 WHERE 1 = 1 LIMIT 6;
UPDATE t2 SET b = 0 WHERE a IN ( 5 , 9 , 3 ) LIMIT 1;
INSERT INTO t1 ( a, b ) VALUES ( 4 , 8 );
DELETE FROM t1 WHERE b > 8 LIMIT 1;
ROLLBACK;
UPDATE t1 SET id = 5 WHERE 1 = 1 LIMIT 5;
INSERT INTO t2 ( a, b ) VALUES ( 4 , 0 );
UPDATE t2 SET id = 4 WHERE 1 = 1 LIMIT 9;
ERROR 23000: Duplicate entry '4' for key 'PRIMARY'
DELETE FROM t1 WHERE id BETWEEN 0 and 0 LIMIT 7;
DELETE FROM t1 WHERE b IN ( 1 , 8 , 0 ) LIMIT 3;
COMMIT;
SELECT a FROM t1 WHERE id < 5;
a
START TRANSACTION;
INSERT INTO t1 ( a, b ) VALUES ( 6 , 9 );
SELECT a FROM t1 WHERE 1 = 1;
a
6
SAVEPOINT A;
SELECT a FROM t1 WHERE 1 = 1 /* no additional predicate */;
a
6
SELECT a FROM t1 WHERE id < 5 /* no additional predicate */;
a
ROLLBACK TO SAVEPOINT A;
SELECT a FROM t1 WHERE 1 = 1 AND id > -16777216;
a
6
ROLLBACK TO SAVEPOINT A;
SELECT a FROM t1 WHERE id < 5 AND id > -16777216;
a
ROLLBACK;
SAVEPOINT A;
UPDATE t1 SET id = 7 WHERE b > 8 LIMIT 4;
ROLLBACK;
START TRANSACTION;
UPDATE t2 SET a = 8 WHERE id > 7 LIMIT 2;
START TRANSACTION;
DELETE FROM t2 WHERE id IN ( 5 , 1 , 3 ) LIMIT 7;
SELECT id FROM t1 WHERE a < 5;
id
DELETE FROM t2 WHERE id BETWEEN 6 and 9 LIMIT 6;
INSERT INTO t1 ( a, b ) VALUES ( 7 , 6 );
SELECT id FROM t1 WHERE a < 5 /* no additional predicate */;
id
INSERT INTO t1 ( a, b ) VALUES ( 1 , 7 );
SELECT id FROM t1 WHERE a < 5 AND id > -16777216;
id
58
SELECT id FROM t1 WHERE 1 = 1;
id
7
57
58
UPDATE t1 SET a = 1 WHERE b BETWEEN 6 and 6 LIMIT 2;
SELECT id FROM t1 WHERE 1 = 1 /* no additional predicate */;
id
7
57
58
INSERT INTO t1 ( a, b ) VALUES ( 4 , 6 );
SELECT id FROM t1 WHERE 1 = 1 AND id > -16777216;
id
7
57
58
59
DELETE FROM t1 WHERE b BETWEEN 5 and 6 LIMIT 2;
ROLLBACK;
SELECT a FROM t1 WHERE b BETWEEN 9 and 4;
a
SELECT a FROM t1 WHERE a IN ( 8 , 7 , 2 );
a
SELECT a FROM t1 WHERE b BETWEEN 9 and 4 /* no additional predicate */;
a
INSERT INTO t1 ( a, b ) VALUES ( 3 , 6 );
SELECT a FROM t1 WHERE b BETWEEN 9 and 4 AND id > -16777216;
a
SELECT a FROM t1 WHERE a IN ( 8 , 7 , 2 ) /* no additional predicate */;
a
UPDATE t2 SET id = 9 WHERE a BETWEEN 6 and 1 LIMIT 8;
SELECT id FROM t1 WHERE id BETWEEN 1 and 4;
id
SELECT a FROM t1 WHERE a IN ( 8 , 7 , 2 ) AND id > -16777216;
a
SELECT id FROM t1 WHERE id BETWEEN 1 and 4 /* no additional predicate */;
id
SELECT id FROM t1 WHERE id BETWEEN 1 and 4 AND id > -16777216;
id
SELECT a FROM t2 WHERE b BETWEEN 7 and 3;
a
UPDATE t2 SET b = 6 WHERE b IN ( 7 , 6 , 4 ) LIMIT 9;
SELECT a FROM t2 WHERE b BETWEEN 7 and 3 /* no additional predicate */;
a
SELECT a FROM t2 WHERE b BETWEEN 7 and 3 AND id > -16777216;
a
SELECT id FROM t1 WHERE a BETWEEN 1 and 4;
id
58
60
SELECT id FROM t1 WHERE a BETWEEN 1 and 4 /* no additional predicate */;
id
58
60
UPDATE t2 SET a = 7 WHERE b = 9 LIMIT 6;
SELECT id FROM t1 WHERE a BETWEEN 1 and 4 AND id > -16777216;
id
58
60
SELECT id FROM t2 WHERE id BETWEEN 9 and 3;
id
UPDATE t1 SET b = 9 WHERE 1 = 1 LIMIT 6;
ROLLBACK TO SAVEPOINT A;
SELECT id FROM t2 WHERE id BETWEEN 9 and 3 /* no additional predicate */;
id
UPDATE t1 SET a = 7 WHERE 1 = 1 LIMIT 8;
SELECT id FROM t2 WHERE id BETWEEN 9 and 3 AND id > -16777216;
id
START TRANSACTION;
COMMIT;
SAVEPOINT A;
DELETE FROM t1 WHERE id BETWEEN 9 and 2 LIMIT 4;
SELECT b FROM t1 WHERE id BETWEEN 4 and 7;
b
9
SELECT b FROM t1 WHERE 1 = 1;
b
9
9
9
UPDATE t2 SET b = 5 WHERE b < 1 LIMIT 1;
SELECT b FROM t1 WHERE id BETWEEN 4 and 7 /* no additional predicate */;
b
9
SELECT b FROM t1 WHERE 1 = 1 /* no additional predicate */;
b
9
9
9
SELECT b FROM t1 WHERE 1 = 1 AND id > -16777216;
b
9
9
9
INSERT INTO t1 ( a, b ) VALUES ( 9 , 5 );
SELECT b FROM t1 WHERE id BETWEEN 4 and 7 AND id > -16777216;
b
9
INSERT INTO t2 ( a, b ) VALUES ( 9 , 1 );
INSERT INTO t1 ( a, b ) VALUES ( 3 , 8 );
UPDATE t1 SET b = 8 WHERE 1 = 1 LIMIT 5;
SELECT a FROM t2 WHERE id < 9;
a
SELECT a FROM t2 WHERE id < 9 /* no additional predicate */;
a
SELECT a FROM t2 WHERE id < 9 AND id > -16777216;
a
INSERT INTO t2 ( a, b ) VALUES ( 1 , 0 );
SELECT id FROM t2 WHERE a < 2;
id
59
INSERT INTO t2 ( a, b ) VALUES ( 6 , 6 );
SELECT id FROM t2 WHERE a < 2 /* no additional predicate */;
id
59
SELECT a FROM t2 WHERE id IN ( 2 , 8 , 8 );
a
DELETE FROM t2 WHERE a BETWEEN 2 and 1 LIMIT 2;
SELECT a FROM t2 WHERE id IN ( 2 , 8 , 8 ) /* no additional predicate */;
a
SELECT id FROM t2 WHERE a < 2 AND id > -16777216;
id
59
SELECT a FROM t2 WHERE id IN ( 2 , 8 , 8 ) AND id > -16777216;
a
START TRANSACTION;
INSERT INTO t1 ( a, b ) VALUES ( 8 , 4 );
START TRANSACTION;
DELETE FROM t1 WHERE a > 4 LIMIT 5;
ROLLBACK;
INSERT INTO t1 ( a, b ) VALUES ( 6 , 5 );
DELETE FROM t1 WHERE 1 = 1 LIMIT 0;
START TRANSACTION;
UPDATE t1 SET b = 3 WHERE a IN ( 7 , 1 , 1 ) LIMIT 7;
DELETE FROM t2 WHERE a < 4 LIMIT 2;
UPDATE t1 SET b = 2 WHERE 1 = 1 LIMIT 8;
UPDATE t2 SET id = 3 WHERE 1 = 1 LIMIT 3;
ERROR 23000: Duplicate entry '3' for key 'PRIMARY'
SELECT id FROM t1 WHERE a = 6;
id
64
SELECT id FROM t1 WHERE a = 6 /* no additional predicate */;
id
64
DELETE FROM t2 WHERE id > 5 LIMIT 2;
SELECT id FROM t1 WHERE a = 6 AND id > -16777216;
id
64
UPDATE t1 SET a = 5 WHERE id BETWEEN 2 and 4 LIMIT 2;
ROLLBACK TO SAVEPOINT A;
INSERT INTO t2 ( a, b ) VALUES ( 2 , 8 );
INSERT INTO t2 ( a, b ) VALUES ( 0 , 7 );
UPDATE t2 SET b = 0 WHERE b BETWEEN 6 and 3 LIMIT 9;
SELECT b FROM t1 WHERE a > 3;
b
2
ROLLBACK;
DELETE FROM t1 WHERE id > 1 LIMIT 4;
SELECT b FROM t1 WHERE a > 3 /* no additional predicate */;
b
ROLLBACK;
SELECT b FROM t1 WHERE a > 3 AND id > -16777216;
b
COMMIT;
SELECT a FROM t2 WHERE id < 6;
a
INSERT INTO t1 ( a, b ) VALUES ( 4 , 2 );
SELECT a FROM t2 WHERE id < 6 /* no additional predicate */;
a
INSERT INTO t2 ( a, b ) VALUES ( 5 , 8 );
SELECT b FROM t1 WHERE b BETWEEN 8 and 6;
b
SELECT a FROM t2 WHERE id < 6 AND id > -16777216;
a
DELETE FROM t1 WHERE a BETWEEN 6 and 5 LIMIT 4;
SELECT b FROM t1 WHERE b BETWEEN 8 and 6 /* no additional predicate */;
b
UPDATE t1 SET a = 4 WHERE id > 4 LIMIT 7;
SELECT a FROM t1 WHERE id > 0;
a
4
SELECT b FROM t1 WHERE b BETWEEN 8 and 6 AND id > -16777216;
b
SELECT a FROM t1 WHERE id > 0 /* no additional predicate */;
a
4
ROLLBACK;
SELECT a FROM t1 WHERE id > 0 AND id > -16777216;
a
4
SELECT id FROM t1 WHERE id = 7;
id
SELECT id FROM t1 WHERE id = 7 /* no additional predicate */;
id
SELECT b FROM t1 WHERE a BETWEEN 6 and 3;
b
SELECT id FROM t1 WHERE id = 7 AND id > -16777216;
id
SELECT b FROM t1 WHERE a BETWEEN 6 and 3 /* no additional predicate */;
b
SELECT b FROM t1 WHERE a BETWEEN 6 and 3 AND id > -16777216;
b
UPDATE t2 SET a = 6 WHERE id IN ( 4 , 3 , 0 ) LIMIT 2;
COMMIT;
SELECT id FROM t2 WHERE b > 5;
id
60
61
62
63
SELECT id FROM t2 WHERE b > 5 /* no additional predicate */;
id
60
61
62
63
SELECT id FROM t2 WHERE b > 5 AND id > -16777216;
id
60
61
62
63
SELECT a FROM t2 WHERE a = 8;
a
COMMIT;
SELECT a FROM t2 WHERE a = 8 /* no additional predicate */;
a
SELECT a FROM t2 WHERE a = 8 AND id > -16777216;
a
UPDATE t1 SET id = 9 WHERE a IN ( 1 , 2 , 5 ) LIMIT 4;
DELETE FROM t2 WHERE a IN ( 0 , 9 , 0 ) LIMIT 1;
UPDATE t2 SET a = 7 WHERE b = 2 LIMIT 7;
UPDATE t2 SET id = 6 WHERE a = 0 LIMIT 8;
INSERT INTO t1 ( a, b ) VALUES ( 3 , 1 );
DELETE FROM t2 WHERE b = 7 LIMIT 0;
DELETE FROM t1 WHERE id < 3 LIMIT 9;
INSERT INTO t2 ( a, b ) VALUES ( 6 , 7 );
SELECT id FROM t1 WHERE b IN ( 8 , 1 , 7 );
id
66
START TRANSACTION;
SELECT id FROM t1 WHERE b IN ( 8 , 1 , 7 ) /* no additional predicate */;
id
66
SELECT id FROM t1 WHERE b IN ( 8 , 1 , 7 ) AND id > -16777216;
id
66
INSERT INTO t1 ( a, b ) VALUES ( 3 , 7 );
INSERT INTO t1 ( a, b ) VALUES ( 2 , 2 );
SAVEPOINT A;
COMMIT;
DELETE FROM t1 WHERE 1 = 1 LIMIT 9;
UPDATE t1 SET id = 4 WHERE 1 = 1 LIMIT 4;
UPDATE t2 SET id = 2 WHERE 1 = 1 LIMIT 5;
ERROR 23000: Duplicate entry '2' for key 'PRIMARY'
ROLLBACK;
INSERT INTO t2 ( a, b ) VALUES ( 5 , 6 );
SELECT a FROM t1 WHERE 1 = 1;
a
ROLLBACK TO SAVEPOINT A;
SELECT a FROM t1 WHERE 1 = 1 /* no additional predicate */;
a
INSERT INTO t1 ( a, b ) VALUES ( 1 , 3 );
SELECT a FROM t1 WHERE 1 = 1 AND id > -16777216;
a
1
UPDATE t2 SET a = 2 WHERE b > 3 LIMIT 4;
SELECT a FROM t1 WHERE id > 5;
a
1
SELECT a FROM t1 WHERE id > 5 /* no additional predicate */;
a
1
SELECT a FROM t1 WHERE id > 5 AND id > -16777216;
a
1
UPDATE t1 SET id = 1 WHERE 1 = 1 LIMIT 3;
UPDATE t1 SET b = 3 WHERE a < 1 LIMIT 5;
UPDATE t1 SET b = 8 WHERE a < 9 LIMIT 1;
UPDATE t2 SET id = 8 WHERE a BETWEEN 3 and 1 LIMIT 9;
UPDATE t2 SET a = 3 WHERE b < 2 LIMIT 6;
DELETE FROM t2 WHERE a IN ( 5 , 8 , 8 ) LIMIT 9;
DELETE FROM t2 WHERE a BETWEEN 3 and 0 LIMIT 8;
DELETE FROM t1 WHERE id < 8 LIMIT 7;
UPDATE t1 SET id = 4 WHERE b > 5 LIMIT 7;
DELETE FROM t1 WHERE b BETWEEN 9 and 2 LIMIT 2;
DELETE FROM t1 WHERE b = 6 LIMIT 9;
COMMIT;
ROLLBACK;
UPDATE t1 SET id = 2 WHERE a = 8 LIMIT 9;
INSERT INTO t1 ( a, b ) VALUES ( 5 , 1 );
INSERT INTO t1 ( a, b ) VALUES ( 2 , 4 );
SAVEPOINT A;
DELETE FROM t2 WHERE id < 3 LIMIT 9;
UPDATE t2 SET a = 7 WHERE 1 = 1 LIMIT 7;
COMMIT;
ROLLBACK;
INSERT INTO t1 ( a, b ) VALUES ( 5 , 6 );
INSERT INTO t1 ( a, b ) VALUES ( 4 , 1 );
SELECT b FROM t1 WHERE id BETWEEN 7 and 0;
b
SELECT b FROM t1 WHERE id BETWEEN 7 and 0 /* no additional predicate */;
b
SELECT b FROM t1 WHERE id BETWEEN 7 and 0 AND id > -16777216;
b
INSERT INTO t1 ( a, b ) VALUES ( 6 , 7 );
SELECT b FROM t2 WHERE a > 2;
b
3
0
1
6
8
8
7
SELECT b FROM t2 WHERE a > 2 /* no additional predicate */;
b
3
0
1
6
8
8
7
SELECT b FROM t2 WHERE a > 2 AND id > -16777216;
b
3
0
1
6
8
8
7
UPDATE t2 SET id = 7 WHERE b IN ( 2 , 6 , 8 ) LIMIT 3;
ERROR 23000: Duplicate entry '7' for key 'PRIMARY'
UPDATE t2 SET b = 5 WHERE a IN ( 1 , 5 , 0 ) LIMIT 9;
DELETE FROM t2 WHERE b > 8 LIMIT 9;
INSERT INTO t1 ( a, b ) VALUES ( 5 , 3 );
SELECT a FROM t2 WHERE id < 5;
a
DELETE FROM t2 WHERE id IN ( 0 , 2 , 9 ) LIMIT 5;
SELECT a FROM t2 WHERE id < 5 /* no additional predicate */;
a
SELECT a FROM t2 WHERE id < 5 AND id > -16777216;
a
INSERT INTO t1 ( a, b ) VALUES ( 1 , 6 );
INSERT INTO t2 ( a, b ) VALUES ( 7 , 3 );
SELECT id FROM t2 WHERE a > 2;
id
56
57
58
60
61
63
64
66
SELECT id FROM t2 WHERE a > 2 /* no additional predicate */;
id
56
57
58
60
61
63
64
66
SELECT id FROM t2 WHERE a > 2 AND id > -16777216;
id
56
57
58
60
61
63
64
66
INSERT INTO t2 ( a, b ) VALUES ( 1 , 9 );
INSERT INTO t1 ( a, b ) VALUES ( 1 , 0 );
UPDATE t1 SET a = 3 WHERE b < 4 LIMIT 8;
DELETE FROM t1 WHERE a < 8 LIMIT 2;
DELETE FROM t2 WHERE id < 8 LIMIT 0;
DELETE FROM t2 WHERE a = 9 LIMIT 4;
DELETE FROM t2 WHERE 1 = 1 LIMIT 7;
INSERT INTO t1 ( a, b ) VALUES ( 8 , 2 );
DELETE FROM t1 WHERE a IN ( 4 , 6 , 5 ) LIMIT 2;
DELETE FROM t1 WHERE a IN ( 8 , 9 , 8 ) LIMIT 9;
DELETE FROM t1 WHERE b IN ( 1 , 5 , 0 ) LIMIT 8;
UPDATE t1 SET a = 8 WHERE id > 3 LIMIT 6;
INSERT INTO t1 ( a, b ) VALUES ( 0 , 5 );
DELETE FROM t1 WHERE a IN ( 8 , 4 , 2 ) LIMIT 1;
SAVEPOINT A;
DELETE FROM t1 WHERE id < 2 LIMIT 0;
SELECT a FROM t1 WHERE 1 = 1;
a
0
SELECT a FROM t1 WHERE 1 = 1 /* no additional predicate */;
a
0
SELECT a FROM t1 WHERE 1 = 1 AND id > -16777216;
a
0
UPDATE t2 SET b = 1 WHERE id < 3 LIMIT 3;
DELETE FROM t1 WHERE b < 6 LIMIT 3;
DELETE FROM t1 WHERE a BETWEEN 3 and 8 LIMIT 7;
SELECT b FROM t2 WHERE id = 6;
b
INSERT INTO t2 ( a, b ) VALUES ( 7 , 9 );
SELECT b FROM t2 WHERE id = 6 /* no additional predicate */;
b
SELECT b FROM t2 WHERE id = 6 AND id > -16777216;
b
UPDATE t2 SET a = 3 WHERE id > 5 LIMIT 8;
SELECT b FROM t2 WHERE id BETWEEN 3 and 5;
b
DELETE FROM t2 WHERE 1 = 1 LIMIT 9;
SELECT b FROM t2 WHERE id BETWEEN 3 and 5 /* no additional predicate */;
b
SELECT b FROM t2 WHERE id BETWEEN 3 and 5 AND id > -16777216;
b
DELETE FROM t2 WHERE 1 = 1 LIMIT 7;
INSERT INTO t1 ( a, b ) VALUES ( 9 , 7 );
DELETE FROM t2 WHERE b = 1 LIMIT 3;
INSERT INTO t2 ( a, b ) VALUES ( 9 , 5 );
SELECT id FROM t2 WHERE 1 = 1;
id
69
SELECT id FROM t2 WHERE b > 0;
id
69
SELECT id FROM t2 WHERE 1 = 1 /* no additional predicate */;
id
69
SELECT id FROM t2 WHERE b > 0 /* no additional predicate */;
id
69
SELECT id FROM t2 WHERE 1 = 1 AND id > -16777216;
id
69
SELECT id FROM t2 WHERE b > 0 AND id > -16777216;
id
69
START TRANSACTION;
START TRANSACTION;
DELETE FROM t1 WHERE b > 7 LIMIT 6;
SELECT a FROM t2 WHERE 1 = 1;
a
9
UPDATE t2 SET a = 4 WHERE 1 = 1 LIMIT 3;
DELETE FROM t1 WHERE b < 6 LIMIT 1;
DELETE FROM t1 WHERE 1 = 1 LIMIT 2;
INSERT INTO t2 ( a, b ) VALUES ( 4 , 5 );
SELECT a FROM t2 WHERE 1 = 1 /* no additional predicate */;
a
4
4
UPDATE t1 SET a = 8 WHERE a < 7 LIMIT 5;
INSERT INTO t2 ( a, b ) VALUES ( 7 , 8 );
SAVEPOINT A;
UPDATE t1 SET a = 9 WHERE 1 = 1 LIMIT 8;
SELECT a FROM t2 WHERE 1 = 1 AND id > -16777216;
a
4
4
7
INSERT INTO t2 ( a, b ) VALUES ( 3 , 4 );
SELECT b FROM t2 WHERE 1 = 1;
b
5
5
8
4
DELETE FROM t1 WHERE b BETWEEN 9 and 4 LIMIT 3;
INSERT INTO t1 ( a, b ) VALUES ( 9 , 6 );
SELECT b FROM t2 WHERE 1 = 1 /* no additional predicate */;
b
5
5
8
4
DELETE FROM t2 WHERE id IN ( 8 , 3 , 6 ) LIMIT 5;
START TRANSACTION;
INSERT INTO t2 ( a, b ) VALUES ( 3 , 7 );
DELETE FROM t1 WHERE b > 2 LIMIT 7;
ROLLBACK TO SAVEPOINT A;
SELECT b FROM t2 WHERE 1 = 1 AND id > -16777216;
b
5
5
8
4
7
UPDATE t2 SET id = 7 WHERE id IN ( 8 , 0 , 3 ) LIMIT 0;
DELETE FROM t2 WHERE id BETWEEN 5 and 0 LIMIT 5;
DELETE FROM t2 WHERE 1 = 1 LIMIT 8;
DELETE FROM t1 WHERE b > 6 LIMIT 4;
UPDATE t2 SET a = 9 WHERE id IN ( 6 , 7 , 5 ) LIMIT 0;
UPDATE t2 SET a = 0 WHERE a > 1 LIMIT 3;
COMMIT;
START TRANSACTION;
DELETE FROM t1 WHERE 1 = 1 LIMIT 0;
SELECT id FROM t1 WHERE b < 7;
id
SELECT id FROM t1 WHERE b < 7 /* no additional predicate */;
id
SELECT a FROM t2 WHERE 1 = 1;
a
SELECT id FROM t1 WHERE b < 7 AND id > -16777216;
id
SELECT a FROM t2 WHERE 1 = 1 /* no additional predicate */;
a
DELETE FROM t1 WHERE b > 3 LIMIT 6;
INSERT INTO t2 ( a, b ) VALUES ( 7 , 3 );
SELECT a FROM t2 WHERE 1 = 1;
a
7
SELECT a FROM t2 WHERE 1 = 1 AND id > -16777216;
a
7
SELECT a FROM t2 WHERE 1 = 1 /* no additional predicate */;
a
7
SELECT a FROM t1 WHERE a = 4;
a
SELECT a FROM t1 WHERE a = 4 /* no additional predicate */;
a
SELECT a FROM t2 WHERE 1 = 1 AND id > -16777216;
a
7
SELECT a FROM t1 WHERE a = 4 AND id > -16777216;
a
SELECT a FROM t2 WHERE 1 = 1;
a
7
UPDATE t2 SET a = 3 WHERE a IN ( 4 , 7 , 2 ) LIMIT 1;
SELECT a FROM t2 WHERE 1 = 1 /* no additional predicate */;
a
3
DELETE FROM t1 WHERE b < 3 LIMIT 1;
UPDATE t1 SET a = 7 WHERE id > 3 LIMIT 1;
SELECT a FROM t2 WHERE 1 = 1 AND id > -16777216;
a
3
ROLLBACK;
START TRANSACTION;
ROLLBACK;
ROLLBACK;
START TRANSACTION;
DELETE FROM t2 WHERE id = 7 LIMIT 0;
INSERT INTO t2 ( a, b ) VALUES ( 7 , 2 );
SELECT a FROM t1 WHERE b = 3;
a
SAVEPOINT A;
SELECT a FROM t1 WHERE b = 3 /* no additional predicate */;
a
INSERT INTO t2 ( a, b ) VALUES ( 8 , 7 );
DELETE FROM t1 WHERE a = 7 LIMIT 6;
SELECT b FROM t1 WHERE b IN ( 3 , 5 , 4 );
b
SELECT a FROM t1 WHERE b = 3 AND id > -16777216;
a
UPDATE t1 SET a = 6 WHERE b BETWEEN 8 and 1 LIMIT 7;
SELECT b FROM t1 WHERE b IN ( 3 , 5 , 4 ) /* no additional predicate */;
b
UPDATE t1 SET id = 5 WHERE a > 3 LIMIT 3;
SELECT b FROM t1 WHERE b IN ( 3 , 5 , 4 ) AND id > -16777216;
b
UPDATE t2 SET b = 6 WHERE a IN ( 8 , 3 , 0 ) LIMIT 2;
SAVEPOINT A;
COMMIT;
DELETE FROM t2 WHERE b < 3 LIMIT 1;
DELETE FROM t2 WHERE b < 0 LIMIT 5;
SELECT id FROM t2 WHERE b IN ( 9 , 7 , 2 );
id
SELECT id FROM t2 WHERE b IN ( 9 , 7 , 2 ) /* no additional predicate */;
id
SELECT a FROM t2 WHERE 1 = 1;
a
3
8
SELECT id FROM t2 WHERE b IN ( 9 , 7 , 2 ) AND id > -16777216;
id
SAVEPOINT A;
SELECT a FROM t2 WHERE 1 = 1 /* no additional predicate */;
a
3
8
SELECT a FROM t2 WHERE 1 = 1 AND id > -16777216;
a
3
8
DELETE FROM t2 WHERE id < 9 LIMIT 4;
SELECT a FROM t1 WHERE a > 1;
a
SELECT a FROM t1 WHERE a > 1 /* no additional predicate */;
a
SELECT a FROM t1 WHERE a > 1 AND id > -16777216;
a
SELECT a FROM t2 WHERE b IN ( 0 , 7 , 6 );
a
3
8
SELECT a FROM t2 WHERE b IN ( 0 , 7 , 6 ) /* no additional predicate */;
a
3
8
START TRANSACTION;
SELECT a FROM t2 WHERE b IN ( 0 , 7 , 6 ) AND id > -16777216;
a
3
8
SELECT id FROM t2 WHERE id = 8;
id
SELECT id FROM t2 WHERE id = 8 /* no additional predicate */;
id
DELETE FROM t2 WHERE 1 = 1 LIMIT 4;
SELECT id FROM t2 WHERE id = 8 AND id > -16777216;
id
DELETE FROM t1 WHERE b > 2 LIMIT 5;
INSERT INTO t1 ( a, b ) VALUES ( 2 , 0 );
DELETE FROM t2 WHERE b > 4 LIMIT 4;
INSERT INTO t2 ( a, b ) VALUES ( 7 , 9 );
INSERT INTO t2 ( a, b ) VALUES ( 5 , 6 );
INSERT INTO t2 ( a, b ) VALUES ( 2 , 5 );
SELECT a FROM t2 WHERE b < 8;
a
5
2
SELECT a FROM t2 WHERE b < 8 /* no additional predicate */;
a
5
2
SELECT a FROM t2 WHERE b < 8 AND id > -16777216;
a
5
2
SELECT id FROM t1 WHERE b > 7;
id
SELECT id FROM t1 WHERE b > 7 /* no additional predicate */;
id
SELECT id FROM t1 WHERE b > 7 AND id > -16777216;
id
DELETE FROM t2 WHERE a > 0 LIMIT 2;
DELETE FROM t1 WHERE b < 7 LIMIT 7;
UPDATE t1 SET id = 3 WHERE 1 = 1 LIMIT 1;
DELETE FROM t2 WHERE b = 1 LIMIT 8;
UPDATE t1 SET id = 5 WHERE a < 1 LIMIT 8;
SELECT a FROM t1 WHERE id > 2;
a
SELECT a FROM t1 WHERE id BETWEEN 4 and 0;
a
SELECT a FROM t1 WHERE id > 2 /* no additional predicate */;
a
SELECT a FROM t1 WHERE id > 7;
a
SELECT a FROM t1 WHERE id BETWEEN 4 and 0 /* no additional predicate */;
a
SELECT a FROM t1 WHERE id > 2 AND id > -16777216;
a
DELETE FROM t1 WHERE id BETWEEN 2 and 5 LIMIT 3;
SELECT a FROM t1 WHERE id > 7 /* no additional predicate */;
a
SELECT a FROM t1 WHERE id BETWEEN 4 and 0 AND id > -16777216;
a
INSERT INTO t2 ( a, b ) VALUES ( 6 , 2 );
SELECT a FROM t1 WHERE id > 7 AND id > -16777216;
a
SELECT b FROM t1 WHERE b BETWEEN 3 and 4;
b
UPDATE t1 SET a = 7 WHERE b BETWEEN 6 and 3 LIMIT 2;
SELECT b FROM t1 WHERE b BETWEEN 3 and 4 /* no additional predicate */;
b
INSERT INTO t1 ( a, b ) VALUES ( 6 , 0 );
UPDATE t1 SET b = 2 WHERE 1 = 1 LIMIT 9;
SELECT b FROM t1 WHERE b BETWEEN 3 and 4 AND id > -16777216;
b
UPDATE t1 SET b = 2 WHERE id = 4 LIMIT 0;
INSERT INTO t1 ( a, b ) VALUES ( 0 , 3 );
UPDATE t2 SET a = 8 WHERE a > 0 LIMIT 0;
COMMIT;
SELECT b FROM t1 WHERE 1 = 1;
b
2
3
SELECT b FROM t1 WHERE 1 = 1 /* no additional predicate */;
b
2
3
INSERT INTO t1 ( a, b ) VALUES ( 1 , 4 );
SELECT b FROM t1 WHERE b = 7;
b
SELECT b FROM t1 WHERE 1 = 1 AND id > -16777216;
b
2
3
4
SELECT b FROM t1 WHERE b = 7 /* no additional predicate */;
b
INSERT INTO t2 ( a, b ) VALUES ( 5 , 7 );
SELECT b FROM t1 WHERE b = 7 AND id > -16777216;
b
INSERT INTO t2 ( a, b ) VALUES ( 7 , 2 );
DELETE FROM t2 WHERE a BETWEEN 8 and 4 LIMIT 5;
SELECT a FROM t1 WHERE b = 4;
a
1
UPDATE t1 SET b = 1 WHERE b > 4 LIMIT 4;
SELECT a FROM t1 WHERE b = 4 /* no additional predicate */;
a
1
UPDATE t1 SET b = 4 WHERE b IN ( 0 , 9 , 4 ) LIMIT 4;
SELECT a FROM t1 WHERE b = 4 AND id > -16777216;
a
1
ROLLBACK TO SAVEPOINT A;
INSERT INTO t2 ( a, b ) VALUES ( 8 , 7 );
SELECT id FROM t2 WHERE 1 = 1;
id
77
80
81
82
83
UPDATE t1 SET b = 8 WHERE a = 7 LIMIT 2;
DELETE FROM t1 WHERE 1 = 1 LIMIT 7;
SELECT id FROM t2 WHERE 1 = 1 /* no additional predicate */;
id
77
80
81
82
83
START TRANSACTION;
COMMIT;
SELECT id FROM t2 WHERE a > 9;
id
SELECT id FROM t2 WHERE 1 = 1 AND id > -16777216;
id
77
80
81
82
83
DELETE FROM t2 WHERE 1 = 1 LIMIT 4;
SELECT id FROM t2 WHERE a > 9 /* no additional predicate */;
id
SELECT id FROM t2 WHERE id IN ( 3 , 3 , 2 );
id
UPDATE t1 SET a = 7 WHERE a > 9 LIMIT 7;
SELECT id FROM t2 WHERE id IN ( 3 , 3 , 2 ) /* no additional predicate */;
id
SELECT id FROM t2 WHERE id IN ( 3 , 3 , 2 ) AND id > -16777216;
id
SELECT id FROM t2 WHERE a > 9 AND id > -16777216;
id
UPDATE t1 SET b = 6 WHERE id IN ( 4 , 7 , 6 ) LIMIT 3;
SELECT b FROM t1 WHERE id BETWEEN 6 and 8;
b
SELECT b FROM t1 WHERE id BETWEEN 6 and 8 /* no additional predicate */;
b
START TRANSACTION;
SELECT b FROM t1 WHERE id BETWEEN 6 and 8 AND id > -16777216;
b
COMMIT;
DELETE FROM t2 WHERE a BETWEEN 0 and 1 LIMIT 3;
SELECT b FROM t1 WHERE b IN ( 7 , 1 , 5 );
b
SELECT b FROM t1 WHERE b IN ( 7 , 1 , 5 ) /* no additional predicate */;
b
DELETE FROM t1 WHERE a < 6 LIMIT 1;
SELECT b FROM t1 WHERE b IN ( 7 , 1 , 5 ) AND id > -16777216;
b
SELECT b FROM t2 WHERE b BETWEEN 5 and 3;
b
ROLLBACK TO SAVEPOINT A;
SELECT b FROM t2 WHERE b BETWEEN 5 and 3 /* no additional predicate */;
b
ROLLBACK TO SAVEPOINT A;
SELECT b FROM t2 WHERE b BETWEEN 5 and 3 AND id > -16777216;
b
UPDATE t1 SET a = 1 WHERE b > 8 LIMIT 4;
ROLLBACK TO SAVEPOINT A;
SELECT a FROM t2 WHERE a BETWEEN 9 and 7;
a
UPDATE t2 SET id = 8 WHERE 1 = 1 LIMIT 7;
SELECT a FROM t2 WHERE a BETWEEN 9 and 7 /* no additional predicate */;
a
SELECT a FROM t2 WHERE a BETWEEN 9 and 7 AND id > -16777216;
a
SELECT b FROM t2 WHERE a > 8;
b
SELECT b FROM t1 WHERE 1 = 1;
b
SELECT b FROM t1 WHERE 1 = 1 /* no additional predicate */;
b
SELECT b FROM t2 WHERE a > 8 /* no additional predicate */;
b
SELECT b FROM t1 WHERE 1 = 1 AND id > -16777216;
b
SELECT b FROM t2 WHERE a > 8 AND id > -16777216;
b
DELETE FROM t2 WHERE b = 3 LIMIT 7;
SAVEPOINT A;
SELECT id FROM t2 WHERE id < 7;
id
INSERT INTO t2 ( a, b ) VALUES ( 8 , 3 );
SELECT id FROM t2 WHERE id < 7 /* no additional predicate */;
id
UPDATE t2 SET id = 8 WHERE b > 7 LIMIT 0;
SELECT id FROM t2 WHERE id < 7 AND id > -16777216;
id
START TRANSACTION;
UPDATE t1 SET b = 0 WHERE id > 0 LIMIT 9;
COMMIT;
DELETE FROM t1 WHERE id < 4 LIMIT 2;
ROLLBACK;
UPDATE t1 SET id = 2 WHERE id < 6 LIMIT 3;
INSERT INTO t1 ( a, b ) VALUES ( 5 , 5 );
SELECT a FROM t1 WHERE b = 3;
a
UPDATE t2 SET id = 1 WHERE a > 3 LIMIT 6;
ERROR 23000: Duplicate entry '1' for key 'PRIMARY'
INSERT INTO t2 ( a, b ) VALUES ( 7 , 2 );
SELECT a FROM t1 WHERE b = 3 /* no additional predicate */;
a
SAVEPOINT A;
SELECT a FROM t1 WHERE b = 3 AND id > -16777216;
a
ROLLBACK TO SAVEPOINT A;
SELECT id FROM t1 WHERE a IN ( 2 , 8 , 3 );
id
START TRANSACTION;
SELECT id FROM t1 WHERE a IN ( 2 , 8 , 3 ) /* no additional predicate */;
id
SELECT id FROM t1 WHERE a IN ( 2 , 8 , 3 ) AND id > -16777216;
id
UPDATE t2 SET b = 1 WHERE b > 7 LIMIT 5;
DELETE FROM t2 WHERE a = 5 LIMIT 3;
SELECT id FROM t1 WHERE a = 6;
id
SELECT id FROM t1 WHERE a = 6 /* no additional predicate */;
id
SELECT id FROM t1 WHERE a = 6 AND id > -16777216;
id
SELECT b FROM t1 WHERE 1 = 1;
b
5
SELECT b FROM t1 WHERE 1 = 1 /* no additional predicate */;
b
5
SELECT b FROM t1 WHERE 1 = 1 AND id > -16777216;
b
5
DELETE FROM t2 WHERE id = 0 LIMIT 7;
UPDATE t1 SET a = 8 WHERE 1 = 1 LIMIT 8;
SAVEPOINT A;
UPDATE t1 SET a = 2 WHERE a IN ( 9 , 5 , 9 ) LIMIT 4;
DELETE FROM t1 WHERE a < 7 LIMIT 0;
DELETE FROM t2 WHERE id = 2 LIMIT 7;
SELECT a FROM t2 WHERE b > 5;
a
8
DELETE FROM t2 WHERE id > 0 LIMIT 6;
SELECT a FROM t2 WHERE b > 5 /* no additional predicate */;
a
SELECT a FROM t2 WHERE b > 5 AND id > -16777216;
a
SELECT a FROM t2 WHERE a > 2;
a
SELECT a FROM t2 WHERE a > 2 /* no additional predicate */;
a
SELECT a FROM t2 WHERE a > 2 AND id > -16777216;
a
DELETE FROM t1 WHERE b > 7 LIMIT 8;
ROLLBACK;
SELECT a FROM t1 WHERE 1 = 1;
a
8
SELECT b FROM t1 WHERE a IN ( 9 , 7 , 3 );
b
SELECT a FROM t1 WHERE 1 = 1 /* no additional predicate */;
a
8
SELECT b FROM t1 WHERE a IN ( 9 , 7 , 3 ) /* no additional predicate */;
b
SELECT a FROM t1 WHERE 1 = 1 AND id > -16777216;
a
8
SELECT b FROM t1 WHERE a IN ( 9 , 7 , 3 ) AND id > -16777216;
b
ROLLBACK TO SAVEPOINT A;
UPDATE t2 SET b = 6 WHERE a < 5 LIMIT 4;
UPDATE t1 SET b = 3 WHERE id = 1 LIMIT 1;
DELETE FROM t1 WHERE b > 4 LIMIT 3;
DELETE FROM t1 WHERE 1 = 1 LIMIT 8;
SAVEPOINT A;
SELECT b FROM t2 WHERE b BETWEEN 8 and 3;
b
SELECT b FROM t2 WHERE b BETWEEN 8 and 3 /* no additional predicate */;
b
INSERT INTO t2 ( a, b ) VALUES ( 5 , 3 );
SELECT b FROM t2 WHERE b BETWEEN 8 and 3 AND id > -16777216;
b
UPDATE t2 SET b = 7 WHERE b = 6 LIMIT 8;
DELETE FROM t2 WHERE 1 = 1 LIMIT 2;
ROLLBACK;
UPDATE t1 SET a = 2 WHERE id > 1 LIMIT 5;
COMMIT;
UPDATE t1 SET a = 6 WHERE b < 3 LIMIT 7;
UPDATE t1 SET b = 7 WHERE 1 = 1 LIMIT 9;
INSERT INTO t2 ( a, b ) VALUES ( 2 , 4 );
UPDATE t1 SET b = 2 WHERE id > 2 LIMIT 5;
UPDATE t1 SET id = 1 WHERE id BETWEEN 1 and 5 LIMIT 7;
SELECT b FROM t1 WHERE b IN ( 1 , 7 , 5 );
b
INSERT INTO t2 ( a, b ) VALUES ( 1 , 2 );
SELECT b FROM t1 WHERE b IN ( 1 , 7 , 5 ) /* no additional predicate */;
b
SELECT b FROM t1 WHERE b IN ( 1 , 7 , 5 ) AND id > -16777216;
b
SELECT id FROM t2 WHERE b < 7;
id
87
88
SELECT id FROM t2 WHERE b < 7 /* no additional predicate */;
id
87
88
SELECT b FROM t2 WHERE id > 1;
b
4
2
SELECT id FROM t2 WHERE b < 7 AND id > -16777216;
id
87
88
SELECT b FROM t2 WHERE id > 1 /* no additional predicate */;
b
4
2
SELECT b FROM t1 WHERE id = 5;
b
SELECT b FROM t1 WHERE id = 5 /* no additional predicate */;
b
SELECT b FROM t1 WHERE id = 5 AND id > -16777216;
b
SELECT b FROM t2 WHERE id > 1 AND id > -16777216;
b
4
2
DELETE FROM t1 WHERE b < 4 LIMIT 7;
SAVEPOINT A;
DELETE FROM t2 WHERE a < 0 LIMIT 2;
SELECT a FROM t1 WHERE b < 6;
a
START TRANSACTION;
INSERT INTO t2 ( a, b ) VALUES ( 4 , 2 );
SELECT a FROM t1 WHERE b < 6 /* no additional predicate */;
a
UPDATE t1 SET b = 5 WHERE 1 = 1 LIMIT 4;
SELECT a FROM t1 WHERE b < 6 AND id > -16777216;
a
UPDATE t1 SET b = 3 WHERE a IN ( 1 , 2 , 4 ) LIMIT 5;
UPDATE t2 SET id = 3 WHERE 1 = 1 LIMIT 6;
ERROR 23000: Duplicate entry '3' for key 'PRIMARY'
START TRANSACTION;
DELETE FROM t1 WHERE a > 0 LIMIT 7;
SELECT a FROM t1 WHERE a BETWEEN 4 and 8;
a
UPDATE t2 SET b = 2 WHERE 1 = 1 LIMIT 4;
SELECT a FROM t1 WHERE a BETWEEN 4 and 8 /* no additional predicate */;
a
SELECT a FROM t1 WHERE b > 2;
a
SELECT a FROM t1 WHERE b > 2 /* no additional predicate */;
a
SELECT a FROM t1 WHERE a BETWEEN 4 and 8 AND id > -16777216;
a
SELECT a FROM t1 WHERE b > 2 AND id > -16777216;
a
INSERT INTO t1 ( a, b ) VALUES ( 9 , 8 );
INSERT INTO t1 ( a, b ) VALUES ( 8 , 1 );
SELECT a FROM t2 WHERE id IN ( 6 , 8 , 6 );
a
DELETE FROM t2 WHERE b < 3 LIMIT 2;
SELECT a FROM t2 WHERE id IN ( 6 , 8 , 6 ) /* no additional predicate */;
a
INSERT INTO t2 ( a, b ) VALUES ( 6 , 4 );
SELECT a FROM t2 WHERE id IN ( 6 , 8 , 6 ) AND id > -16777216;
a
START TRANSACTION;
INSERT INTO t1 ( a, b ) VALUES ( 2 , 2 );
SAVEPOINT A;
UPDATE t1 SET id = 3 WHERE id BETWEEN 9 and 8 LIMIT 3;
DELETE FROM t2 WHERE b = 0 LIMIT 4;
DELETE FROM t2 WHERE id = 9 LIMIT 2;
DELETE FROM t1 WHERE id < 9 LIMIT 9;
DELETE FROM t2 WHERE b = 0 LIMIT 5;
UPDATE t1 SET b = 0 WHERE a BETWEEN 8 and 5 LIMIT 0;
DELETE FROM t2 WHERE id = 3 LIMIT 0;
UPDATE t1 SET b = 1 WHERE b = 8 LIMIT 4;
SELECT a FROM t1 WHERE 1 = 1;
a
9
8
2
SELECT b FROM t2 WHERE b > 2;
b
4
SELECT a FROM t1 WHERE 1 = 1 /* no additional predicate */;
a
9
8
2
DELETE FROM t1 WHERE a IN ( 9 , 5 , 3 ) LIMIT 3;
SELECT b FROM t2 WHERE b > 2 /* no additional predicate */;
b
4
SELECT a FROM t1 WHERE 1 = 1 AND id > -16777216;
a
8
2
SELECT id FROM t2 WHERE b > 9;
id
SELECT b FROM t2 WHERE b > 2 AND id > -16777216;
b
4
UPDATE t2 SET id = 2 WHERE a IN ( 4 , 8 , 7 ) LIMIT 1;
SELECT id FROM t2 WHERE b > 9 /* no additional predicate */;
id
DELETE FROM t1 WHERE id = 5 LIMIT 1;
SELECT id FROM t2 WHERE 1 = 1;
id
2
90
INSERT INTO t2 ( a, b ) VALUES ( 4 , 7 );
SELECT id FROM t2 WHERE 1 = 1 /* no additional predicate */;
id
2
90
91
SELECT id FROM t2 WHERE b > 9 AND id > -16777216;
id
COMMIT;
SELECT id FROM t2 WHERE 1 = 1 AND id > -16777216;
id
2
90
91
SELECT id FROM t1 WHERE b = 7;
id
SELECT id FROM t1 WHERE b = 7 /* no additional predicate */;
id
UPDATE t1 SET b = 8 WHERE b IN ( 0 , 5 , 9 ) LIMIT 7;
UPDATE t1 SET a = 2 WHERE b BETWEEN 2 and 7 LIMIT 8;
SELECT id FROM t1 WHERE b = 7 AND id > -16777216;
id
ROLLBACK TO SAVEPOINT A;
INSERT INTO t1 ( a, b ) VALUES ( 0 , 3 );
INSERT INTO t1 ( a, b ) VALUES ( 0 , 5 );
SELECT b FROM t2 WHERE a > 6;
b
DELETE FROM t1 WHERE a < 2 LIMIT 1;
SELECT b FROM t2 WHERE a > 6 /* no additional predicate */;
b
COMMIT;
ROLLBACK TO SAVEPOINT A;
SELECT b FROM t2 WHERE a > 6 AND id > -16777216;
b
DELETE FROM t1 WHERE id > 0 LIMIT 5;
DELETE FROM t1 WHERE a BETWEEN 9 and 2 LIMIT 1;
UPDATE t2 SET b = 6 WHERE a < 3 LIMIT 0;
UPDATE t2 SET id = 5 WHERE 1 = 1 LIMIT 3;
ERROR 23000: Duplicate entry '5' for key 'PRIMARY'
UPDATE t2 SET a = 5 WHERE 1 = 1 LIMIT 9;
SELECT id FROM t2 WHERE a < 7;
id
2
90
91
UPDATE t1 SET a = 9 WHERE a = 9 LIMIT 1;
SAVEPOINT A;
SELECT id FROM t2 WHERE a < 7 /* no additional predicate */;
id
2
90
91
SELECT a FROM t1 WHERE id BETWEEN 1 and 5;
a
SELECT id FROM t2 WHERE a < 7 AND id > -16777216;
id
2
90
91
SELECT a FROM t1 WHERE id BETWEEN 1 and 5 /* no additional predicate */;
a
SELECT a FROM t1 WHERE id BETWEEN 1 and 5 AND id > -16777216;
a
INSERT INTO t1 ( a, b ) VALUES ( 2 , 6 );
INSERT INTO t2 ( a, b ) VALUES ( 3 , 6 );
DELETE FROM t2 WHERE 1 = 1 LIMIT 3;
SELECT b FROM t2 WHERE b = 6;
b
6
SELECT b FROM t2 WHERE b = 6 /* no additional predicate */;
b
6
SELECT b FROM t2 WHERE b = 6 AND id > -16777216;
b
6
SELECT id FROM t1 WHERE id > 1;
id
92
SELECT id FROM t1 WHERE id > 1 /* no additional predicate */;
id
92
SELECT id FROM t1 WHERE id > 1 AND id > -16777216;
id
92
SELECT a FROM t1 WHERE id < 8;
a
SELECT a FROM t1 WHERE id < 8 /* no additional predicate */;
a
SELECT a FROM t1 WHERE id < 8 AND id > -16777216;
a
UPDATE t1 SET id = 8 WHERE a IN ( 3 , 4 , 7 ) LIMIT 7;
DELETE FROM t1 WHERE a > 0 LIMIT 6;
DELETE FROM t2 WHERE b > 4 LIMIT 0;
ROLLBACK TO SAVEPOINT A;
UPDATE t2 SET a = 9 WHERE a < 3 LIMIT 5;
SELECT id FROM t2 WHERE id < 6;
id
SELECT id FROM t2 WHERE id < 6 /* no additional predicate */;
id
SELECT id FROM t2 WHERE id < 6 AND id > -16777216;
id
DELETE FROM t1 WHERE a IN ( 6 , 8 , 0 ) LIMIT 1;
DELETE FROM t2 WHERE id < 4 LIMIT 4;
DELETE FROM t1 WHERE a < 5 LIMIT 2;
DELETE FROM t1 WHERE b > 1 LIMIT 9;
SELECT b FROM t1 WHERE a IN ( 9 , 9 , 7 );
b
SELECT b FROM t1 WHERE a IN ( 9 , 9 , 7 ) /* no additional predicate */;
b
UPDATE t1 SET id = 1 WHERE b BETWEEN 7 and 3 LIMIT 0;
SELECT b FROM t1 WHERE a IN ( 9 , 9 , 7 ) AND id > -16777216;
b
DELETE FROM t2 WHERE a = 2 LIMIT 0;
INSERT INTO t2 ( a, b ) VALUES ( 6 , 6 );
DELETE FROM t2 WHERE b < 8 LIMIT 5;
ROLLBACK TO SAVEPOINT A;
SELECT b FROM t2 WHERE 1 = 1;
b
SELECT b FROM t2 WHERE 1 = 1 /* no additional predicate */;
b
SELECT b FROM t2 WHERE 1 = 1 AND id > -16777216;
b
COMMIT;
INSERT INTO t1 ( a, b ) VALUES ( 5 , 2 );
UPDATE t1 SET id = 2 WHERE b > 5 LIMIT 9;
SELECT a FROM t1 WHERE a BETWEEN 9 and 2;
a
SELECT a FROM t1 WHERE a BETWEEN 9 and 2 /* no additional predicate */;
a
SELECT a FROM t1 WHERE a BETWEEN 9 and 2 AND id > -16777216;
a
DELETE FROM t1 WHERE b = 5 LIMIT 2;
ROLLBACK;
DELETE FROM t2 WHERE a < 1 LIMIT 2;
DELETE FROM t2 WHERE b < 4 LIMIT 7;
DELETE FROM t1 WHERE b IN ( 0 , 8 , 7 ) LIMIT 4;
INSERT INTO t2 ( a, b ) VALUES ( 6 , 7 );
SELECT b FROM t2 WHERE 1 = 1;
b
7
DELETE FROM t2 WHERE b > 0 LIMIT 5;
DELETE FROM t1 WHERE a = 6 LIMIT 8;
SELECT b FROM t2 WHERE 1 = 1 /* no additional predicate */;
b
SELECT a FROM t1 WHERE b BETWEEN 7 and 1;
a
SELECT a FROM t1 WHERE b BETWEEN 7 and 1 /* no additional predicate */;
a
SELECT a FROM t1 WHERE b BETWEEN 7 and 1 AND id > -16777216;
a
SELECT b FROM t2 WHERE 1 = 1 AND id > -16777216;
b
SELECT a FROM t2 WHERE 1 = 1;
a
SELECT a FROM t2 WHERE 1 = 1 /* no additional predicate */;
a
DELETE FROM t2 WHERE id > 5 LIMIT 6;
INSERT INTO t1 ( a, b ) VALUES ( 0 , 7 );
SELECT a FROM t2 WHERE 1 = 1 AND id > -16777216;
a
SELECT b FROM t1 WHERE b < 1;
b
SELECT b FROM t1 WHERE b < 1 /* no additional predicate */;
b
SELECT b FROM t1 WHERE b < 1 AND id > -16777216;
b
COMMIT;
START TRANSACTION;
DELETE FROM t2 WHERE b < 1 LIMIT 9;
DELETE FROM t1 WHERE id BETWEEN 2 and 7 LIMIT 5;
DELETE FROM t2 WHERE a IN ( 1 , 9 , 1 ) LIMIT 9;
START TRANSACTION;
INSERT INTO t1 ( a, b ) VALUES ( 6 , 2 );
INSERT INTO t2 ( a, b ) VALUES ( 1 , 6 );
SELECT b FROM t2 WHERE id IN ( 8 , 5 , 1 );
b
INSERT INTO t2 ( a, b ) VALUES ( 4 , 7 );
SELECT b FROM t2 WHERE id IN ( 8 , 5 , 1 ) /* no additional predicate */;
b
UPDATE t1 SET a = 2 WHERE id BETWEEN 8 and 3 LIMIT 6;
INSERT INTO t1 ( a, b ) VALUES ( 2 , 8 );
SELECT b FROM t2 WHERE id IN ( 8 , 5 , 1 ) AND id > -16777216;
b
DELETE FROM t2 WHERE 1 = 1 LIMIT 3;
UPDATE t2 SET id = 5 WHERE id BETWEEN 1 and 2 LIMIT 5;
DELETE FROM t1 WHERE b < 2 LIMIT 6;
DELETE FROM t2 WHERE a > 4 LIMIT 7;
SELECT a FROM t1 WHERE b IN ( 7 , 7 , 9 );
a
0
START TRANSACTION;
SELECT a FROM t1 WHERE b IN ( 7 , 7 , 9 ) /* no additional predicate */;
a
0
SELECT id FROM t2 WHERE b = 1;
id
SELECT a FROM t1 WHERE b IN ( 7 , 7 , 9 ) AND id > -16777216;
a
0
SELECT id FROM t2 WHERE b = 1 /* no additional predicate */;
id
SAVEPOINT A;
SELECT id FROM t2 WHERE b = 1 AND id > -16777216;
id
UPDATE t2 SET a = 5 WHERE b = 8 LIMIT 4;
UPDATE t2 SET a = 7 WHERE id BETWEEN 5 and 1 LIMIT 1;
DELETE FROM t2 WHERE id < 4 LIMIT 6;
DELETE FROM t2 WHERE b IN ( 9 , 3 , 2 ) LIMIT 1;
UPDATE t2 SET id = 2 WHERE 1 = 1 LIMIT 0;
INSERT INTO t1 ( a, b ) VALUES ( 7 , 4 );
INSERT INTO t1 ( a, b ) VALUES ( 3 , 4 );
SELECT b FROM t2 WHERE b = 3;
b
UPDATE t2 SET b = 7 WHERE a IN ( 0 , 3 , 5 ) LIMIT 6;
INSERT INTO t2 ( a, b ) VALUES ( 1 , 4 );
SELECT b FROM t2 WHERE b = 3 /* no additional predicate */;
b
INSERT INTO t2 ( a, b ) VALUES ( 4 , 9 );
UPDATE t2 SET id = 3 WHERE a < 3 LIMIT 1;
UPDATE t2 SET id = 6 WHERE id = 6 LIMIT 2;
SELECT b FROM t2 WHERE b = 3 AND id > -16777216;
b
ROLLBACK TO SAVEPOINT A;
DELETE FROM t1 WHERE id = 3 LIMIT 6;
COMMIT;
INSERT INTO t1 ( a, b ) VALUES ( 1 , 7 );
COMMIT;
INSERT INTO t1 ( a, b ) VALUES ( 3 , 5 );
SELECT b FROM t1 WHERE b IN ( 4 , 7 , 7 );
b
7
4
4
7
SELECT b FROM t1 WHERE b IN ( 4 , 7 , 7 ) /* no additional predicate */;
b
7
4
4
7
UPDATE t1 SET a = 1 WHERE 1 = 1 LIMIT 5;
SELECT b FROM t1 WHERE b IN ( 4 , 7 , 7 ) AND id > -16777216;
b
7
4
4
7
INSERT INTO t2 ( a, b ) VALUES ( 4 , 4 );
DELETE FROM t1 WHERE a IN ( 3 , 2 , 4 ) LIMIT 8;
SAVEPOINT A;
UPDATE t2 SET a = 5 WHERE id < 9 LIMIT 2;
COMMIT;
SELECT id FROM t1 WHERE a IN ( 0 , 5 , 3 );
id
COMMIT;
SELECT id FROM t1 WHERE a IN ( 0 , 5 , 3 ) /* no additional predicate */;
id
INSERT INTO t1 ( a, b ) VALUES ( 7 , 1 );
SELECT id FROM t1 WHERE a IN ( 0 , 5 , 3 ) AND id > -16777216;
id
SELECT b FROM t2 WHERE a > 7;
b
SELECT b FROM t2 WHERE a > 7 /* no additional predicate */;
b
SELECT b FROM t2 WHERE a > 7 AND id > -16777216;
b
INSERT INTO t1 ( a, b ) VALUES ( 7 , 4 );
DELETE FROM t2 WHERE id IN ( 3 , 0 , 8 ) LIMIT 9;
COMMIT;
INSERT INTO t1 ( a, b ) VALUES ( 9 , 1 );
ROLLBACK TO SAVEPOINT A;
INSERT INTO t1 ( a, b ) VALUES ( 4 , 7 );
SAVEPOINT A;
SELECT a FROM t1 WHERE a IN ( 4 , 4 , 2 );
a
4
SELECT a FROM t1 WHERE a IN ( 4 , 4 , 2 ) /* no additional predicate */;
a
4
SELECT a FROM t1 WHERE a IN ( 4 , 4 , 2 ) AND id > -16777216;
a
4
DELETE FROM t1 WHERE id = 1 LIMIT 5;
INSERT INTO t2 ( a, b ) VALUES ( 5 , 3 );
UPDATE t1 SET b = 8 WHERE a BETWEEN 9 and 9 LIMIT 5;
START TRANSACTION;
DELETE FROM t1 WHERE b BETWEEN 2 and 3 LIMIT 7;
DELETE FROM t2 WHERE b BETWEEN 7 and 1 LIMIT 6;
SELECT a FROM t1 WHERE id > 4;
a
1
1
1
1
7
7
9
4
SELECT id FROM t1 WHERE id < 3;
id
SELECT a FROM t1 WHERE id > 4 /* no additional predicate */;
a
1
1
1
1
7
7
9
4
SELECT id FROM t1 WHERE id < 3 /* no additional predicate */;
id
SELECT a FROM t1 WHERE id > 4 AND id > -16777216;
a
1
1
1
1
7
7
9
4
SELECT id FROM t1 WHERE id < 3 AND id > -16777216;
id
UPDATE t1 SET b = 2 WHERE id IN ( 2 , 0 , 9 ) LIMIT 2;
UPDATE t2 SET id = 8 WHERE id IN ( 0 , 8 , 7 ) LIMIT 4;
DELETE FROM t2 WHERE id BETWEEN 3 and 5 LIMIT 4;
INSERT INTO t2 ( a, b ) VALUES ( 1 , 4 );
SELECT id FROM t2 WHERE a BETWEEN 7 and 6;
id
START TRANSACTION;
SELECT id FROM t2 WHERE a BETWEEN 7 and 6 /* no additional predicate */;
id
DELETE FROM t2 WHERE id IN ( 5 , 2 , 5 ) LIMIT 0;
SELECT id FROM t2 WHERE a BETWEEN 7 and 6 AND id > -16777216;
id
UPDATE t1 SET id = 3 WHERE id = 0 LIMIT 0;
INSERT INTO t1 ( a, b ) VALUES ( 3 , 1 );
INSERT INTO t1 ( a, b ) VALUES ( 5 , 5 );
SELECT id FROM t2 WHERE id IN ( 8 , 2 , 7 );
id
SELECT id FROM t2 WHERE id IN ( 8 , 2 , 7 ) /* no additional predicate */;
id
DELETE FROM t2 WHERE a = 4 LIMIT 7;
SELECT id FROM t2 WHERE id IN ( 8 , 2 , 7 ) AND id > -16777216;
id
UPDATE t2 SET id = 7 WHERE 1 = 1 LIMIT 6;
ERROR 23000: Duplicate entry '7' for key 'PRIMARY'
DELETE FROM t1 WHERE id > 7 LIMIT 8;
SELECT b FROM t1 WHERE b < 3;
b
1
SELECT b FROM t1 WHERE b < 3 /* no additional predicate */;
b
1
SELECT b FROM t1 WHERE b < 3 AND id > -16777216;
b
1
SELECT id FROM t2 WHERE id < 8;
id
SELECT id FROM t2 WHERE id < 8 /* no additional predicate */;
id
SELECT id FROM t2 WHERE id < 8 AND id > -16777216;
id
UPDATE t2 SET a = 8 WHERE b BETWEEN 4 and 9 LIMIT 5;
SELECT a FROM t2 WHERE b IN ( 9 , 5 , 4 );
a
8
SELECT a FROM t2 WHERE b IN ( 9 , 5 , 4 ) /* no additional predicate */;
a
8
SELECT a FROM t2 WHERE b IN ( 9 , 5 , 4 ) AND id > -16777216;
a
8
INSERT INTO t1 ( a, b ) VALUES ( 7 , 1 );
UPDATE t2 SET b = 2 WHERE 1 = 1 LIMIT 8;
COMMIT;
SELECT id FROM t1 WHERE b BETWEEN 0 and 2;
id
105
107
SELECT id FROM t1 WHERE b BETWEEN 0 and 2 /* no additional predicate */;
id
105
107
SELECT id FROM t1 WHERE b BETWEEN 0 and 2 AND id > -16777216;
id
105
107
DELETE FROM t2 WHERE id > 6 LIMIT 2;
DELETE FROM t2 WHERE id > 0 LIMIT 9;
UPDATE t2 SET b = 2 WHERE id < 7 LIMIT 6;
DELETE FROM t2 WHERE id BETWEEN 0 and 9 LIMIT 2;
UPDATE t1 SET b = 2 WHERE 1 = 1 LIMIT 7;
ROLLBACK;
DELETE FROM t2 WHERE a IN ( 5 , 5 , 7 ) LIMIT 7;
SELECT a FROM t1 WHERE id < 5;
a
SELECT a FROM t2 WHERE b BETWEEN 1 and 6;
a
START TRANSACTION;
SELECT a FROM t1 WHERE id < 5 /* no additional predicate */;
a
SELECT a FROM t2 WHERE b BETWEEN 1 and 6 /* no additional predicate */;
a
SELECT a FROM t1 WHERE id < 5 AND id > -16777216;
a
INSERT INTO t2 ( a, b ) VALUES ( 3 , 5 );
SELECT a FROM t2 WHERE b BETWEEN 1 and 6 AND id > -16777216;
a
3
UPDATE t1 SET b = 3 WHERE a = 7 LIMIT 1;
SELECT id FROM t2 WHERE 1 = 1;
id
102
SELECT id FROM t2 WHERE 1 = 1 /* no additional predicate */;
id
102
SELECT id FROM t2 WHERE 1 = 1 AND id > -16777216;
id
102
SELECT id FROM t2 WHERE id IN ( 1 , 0 , 3 );
id
SELECT id FROM t2 WHERE id IN ( 1 , 0 , 3 ) /* no additional predicate */;
id
SELECT id FROM t2 WHERE id IN ( 1 , 0 , 3 ) AND id > -16777216;
id
SELECT b FROM t1 WHERE b = 5;
b
SELECT b FROM t1 WHERE b = 5 /* no additional predicate */;
b
SELECT b FROM t1 WHERE b = 5 AND id > -16777216;
b
SELECT id FROM t2 WHERE id > 3;
id
102
SELECT id FROM t2 WHERE id > 3 /* no additional predicate */;
id
102
SELECT id FROM t2 WHERE id > 3 AND id > -16777216;
id
102
DELETE FROM t1 WHERE b > 6 LIMIT 4;
SELECT id FROM t2 WHERE 1 = 1;
id
102
SELECT id FROM t2 WHERE 1 = 1 /* no additional predicate */;
id
102
SELECT id FROM t2 WHERE 1 = 1 AND id > -16777216;
id
102
ROLLBACK TO SAVEPOINT A;
SELECT a FROM t1 WHERE b BETWEEN 0 and 8;
a
3
5
7
SELECT a FROM t1 WHERE b BETWEEN 0 and 8 /* no additional predicate */;
a
3
5
7
SELECT a FROM t1 WHERE b BETWEEN 0 and 8 AND id > -16777216;
a
3
5
7
UPDATE t1 SET id = 3 WHERE b IN ( 5 , 4 , 0 ) LIMIT 3;
DELETE FROM t1 WHERE id < 7 LIMIT 3;
SELECT id FROM t2 WHERE id BETWEEN 6 and 1;
id
SELECT id FROM t2 WHERE id BETWEEN 6 and 1 /* no additional predicate */;
id
SELECT id FROM t2 WHERE id BETWEEN 6 and 1 AND id > -16777216;
id
SAVEPOINT A;
INSERT INTO t1 ( a, b ) VALUES ( 3 , 5 );
DELETE FROM t1 WHERE id IN ( 1 , 7 , 4 ) LIMIT 7;
INSERT INTO t1 ( a, b ) VALUES ( 7 , 2 );
SELECT b FROM t1 WHERE b BETWEEN 4 and 9;
b
5
SELECT b FROM t1 WHERE b BETWEEN 4 and 9 /* no additional predicate */;
b
5
SELECT b FROM t1 WHERE b BETWEEN 4 and 9 AND id > -16777216;
b
5
SELECT b FROM t2 WHERE 1 = 1;
b
5
SELECT b FROM t2 WHERE 1 = 1 /* no additional predicate */;
b
5
SELECT b FROM t2 WHERE 1 = 1 AND id > -16777216;
b
5
SELECT b FROM t2 WHERE id IN ( 2 , 7 , 8 );
b
SELECT b FROM t2 WHERE id IN ( 2 , 7 , 8 ) /* no additional predicate */;
b
SELECT b FROM t2 WHERE id IN ( 2 , 7 , 8 ) AND id > -16777216;
b
INSERT INTO t2 ( a, b ) VALUES ( 9 , 2 );
UPDATE t1 SET id = 9 WHERE a BETWEEN 6 and 2 LIMIT 0;
DELETE FROM t1 WHERE id < 6 LIMIT 8;
ROLLBACK;
DELETE FROM t1 WHERE id BETWEEN 3 and 5 LIMIT 9;
UPDATE t1 SET b = 1 WHERE b BETWEEN 3 and 4 LIMIT 1;
ROLLBACK TO SAVEPOINT A;
INSERT INTO t2 ( a, b ) VALUES ( 8 , 3 );
DELETE FROM t1 WHERE b < 2 LIMIT 9;
DELETE FROM t2 WHERE 1 = 1 LIMIT 7;
UPDATE t1 SET a = 3 WHERE id < 2 LIMIT 1;
DELETE FROM t2 WHERE 1 = 1 LIMIT 2;
UPDATE t1 SET a = 1 WHERE b > 0 LIMIT 1;
SELECT a FROM t1 WHERE b = 8;
a
UPDATE t2 SET id = 1 WHERE id = 8 LIMIT 4;
INSERT INTO t1 ( a, b ) VALUES ( 5 , 8 );
SELECT a FROM t1 WHERE b = 8 /* no additional predicate */;
a
5
SELECT a FROM t1 WHERE b = 8 AND id > -16777216;
a
5
INSERT INTO t1 ( a, b ) VALUES ( 4 , 3 );
ROLLBACK;
UPDATE t1 SET b = 8 WHERE b < 3 LIMIT 6;
INSERT INTO t1 ( a, b ) VALUES ( 9 , 6 );
SELECT a FROM t2 WHERE 1 = 1;
a
SELECT id FROM t2 WHERE 1 = 1;
id
SELECT a FROM t2 WHERE 1 = 1 /* no additional predicate */;
a
SELECT id FROM t2 WHERE 1 = 1 /* no additional predicate */;
id
SELECT a FROM t2 WHERE 1 = 1 AND id > -16777216;
a
SELECT id FROM t2 WHERE 1 = 1 AND id > -16777216;
id
SAVEPOINT A;
DELETE FROM t1 WHERE b = 4 LIMIT 4;
DELETE FROM t1 WHERE b > 8 LIMIT 7;
UPDATE t1 SET b = 9 WHERE a > 1 LIMIT 7;
INSERT INTO t2 ( a, b ) VALUES ( 2 , 4 );
INSERT INTO t2 ( a, b ) VALUES ( 1 , 9 );
INSERT INTO t1 ( a, b ) VALUES ( 1 , 8 );
UPDATE t1 SET id = 0 WHERE 1 = 1 LIMIT 6;
ERROR 23000: Duplicate entry '0' for key 'PRIMARY'
UPDATE t2 SET a = 4 WHERE a IN ( 0 , 6 , 5 ) LIMIT 5;
INSERT INTO t1 ( a, b ) VALUES ( 6 , 9 );
INSERT INTO t2 ( a, b ) VALUES ( 4 , 8 );
INSERT INTO t2 ( a, b ) VALUES ( 2 , 6 );
SELECT b FROM t2 WHERE b > 8;
b
9
INSERT INTO t1 ( a, b ) VALUES ( 0 , 8 );
SAVEPOINT A;
SELECT b FROM t2 WHERE b > 8 /* no additional predicate */;
b
9
UPDATE t2 SET a = 0 WHERE a BETWEEN 1 and 0 LIMIT 2;
ROLLBACK TO SAVEPOINT A;
SELECT b FROM t2 WHERE b > 8 AND id > -16777216;
b
9
DELETE FROM t2 WHERE b IN ( 2 , 9 , 2 ) LIMIT 0;
INSERT INTO t2 ( a, b ) VALUES ( 7 , 0 );
SAVEPOINT A;
UPDATE t1 SET a = 9 WHERE id > 1 LIMIT 6;
DELETE FROM t1 WHERE id > 1 LIMIT 6;
SELECT b FROM t2 WHERE 1 = 1;
b
4
9
8
6
0
DELETE FROM t1 WHERE a < 2 LIMIT 0;
SELECT b FROM t2 WHERE 1 = 1 /* no additional predicate */;
b
4
9
8
6
0
SELECT b FROM t2 WHERE 1 = 1 AND id > -16777216;
b
4
9
8
6
0
INSERT INTO t2 ( a, b ) VALUES ( 7 , 1 );
START TRANSACTION;
DELETE FROM t2 WHERE a IN ( 3 , 7 , 0 ) LIMIT 7;
DELETE FROM t1 WHERE b IN ( 0 , 7 , 0 ) LIMIT 1;
DELETE FROM t2 WHERE a IN ( 5 , 7 , 7 ) LIMIT 4;
ROLLBACK TO SAVEPOINT A;
DELETE FROM t1 WHERE b < 2 LIMIT 8;
DELETE FROM t2 WHERE a = 2 LIMIT 3;
SAVEPOINT A;
UPDATE t2 SET b = 1 WHERE id IN ( 3 , 4 , 8 ) LIMIT 4;
ROLLBACK TO SAVEPOINT A;
START TRANSACTION;
INSERT INTO t1 ( a, b ) VALUES ( 4 , 5 );
SELECT b FROM t2 WHERE id = 8;
b
SELECT b FROM t2 WHERE id = 8 /* no additional predicate */;
b
UPDATE t2 SET a = 7 WHERE b IN ( 6 , 3 , 0 ) LIMIT 7;
SELECT b FROM t2 WHERE id = 8 AND id > -16777216;
b
DELETE FROM t2 WHERE b = 5 LIMIT 3;
DELETE FROM t1 WHERE 1 = 1 LIMIT 6;
INSERT INTO t1 ( a, b ) VALUES ( 4 , 4 );
UPDATE t2 SET id = 8 WHERE b IN ( 3 , 6 , 7 ) LIMIT 3;
SELECT b FROM t2 WHERE a > 6;
b
START TRANSACTION;
UPDATE t2 SET b = 5 WHERE b IN ( 1 , 4 , 5 ) LIMIT 4;
COMMIT;
START TRANSACTION;
INSERT INTO t1 ( a, b ) VALUES ( 8 , 6 );
DELETE FROM t1 WHERE a > 5 LIMIT 5;
SELECT b FROM t1 WHERE id = 0;
b
DELETE FROM t2 WHERE b > 9 LIMIT 1;
ROLLBACK TO SAVEPOINT A;
SELECT b FROM t1 WHERE id = 0 /* no additional predicate */;
b
SELECT b FROM t2 WHERE a > 6 /* no additional predicate */;
b
INSERT INTO t2 ( a, b ) VALUES ( 9 , 6 );
INSERT INTO t2 ( a, b ) VALUES ( 4 , 4 );
SELECT b FROM t1 WHERE id = 0 AND id > -16777216;
b
ROLLBACK TO SAVEPOINT A;
START TRANSACTION;
INSERT INTO t1 ( a, b ) VALUES ( 4 , 7 );
SELECT b FROM t2 WHERE a > 6 AND id > -16777216;
b
6
UPDATE t2 SET a = 0 WHERE id BETWEEN 7 and 2 LIMIT 0;
UPDATE t2 SET id = 3 WHERE b IN ( 0 , 2 , 6 ) LIMIT 6;
DELETE FROM t2 WHERE id IN ( 2 , 1 , 6 ) LIMIT 4;
DELETE FROM t1 WHERE id IN ( 0 , 1 , 7 ) LIMIT 8;
SELECT a FROM t1 WHERE b IN ( 0 , 0 , 3 );
a
INSERT INTO t1 ( a, b ) VALUES ( 4 , 8 );
SAVEPOINT A;
INSERT INTO t2 ( a, b ) VALUES ( 7 , 1 );
SELECT a FROM t1 WHERE b IN ( 0 , 0 , 3 ) /* no additional predicate */;
a
ROLLBACK;
SELECT id FROM t2 WHERE b < 0;
id
SELECT a FROM t1 WHERE b IN ( 0 , 0 , 3 ) AND id > -16777216;
a
SELECT b FROM t1 WHERE id > 6;
b
4
7
8
DELETE FROM t1 WHERE 1 = 1 LIMIT 0;
SELECT id FROM t2 WHERE b < 0 /* no additional predicate */;
id
SELECT b FROM t1 WHERE id > 6 /* no additional predicate */;
b
4
7
8
SELECT id FROM t2 WHERE b < 0 AND id > -16777216;
id
SELECT b FROM t1 WHERE id > 6 AND id > -16777216;
b
4
7
8
INSERT INTO t2 ( a, b ) VALUES ( 6 , 4 );
UPDATE t2 SET a = 7 WHERE id IN ( 4 , 3 , 0 ) LIMIT 8;
INSERT INTO t2 ( a, b ) VALUES ( 8 , 8 );
UPDATE t1 SET a = 9 WHERE b > 0 LIMIT 2;
UPDATE t2 SET b = 8 WHERE a > 5 LIMIT 8;
UPDATE t2 SET id = 4 WHERE a BETWEEN 6 and 4 LIMIT 7;
ROLLBACK;
ROLLBACK;
DELETE FROM t2 WHERE a = 3 LIMIT 3;
UPDATE t1 SET id = 4 WHERE id = 3 LIMIT 4;
DELETE FROM t1 WHERE a > 9 LIMIT 8;
DELETE FROM t2 WHERE b IN ( 5 , 7 , 6 ) LIMIT 7;
INSERT INTO t1 ( a, b ) VALUES ( 8 , 5 );
INSERT INTO t1 ( a, b ) VALUES ( 7 , 6 );
INSERT INTO t1 ( a, b ) VALUES ( 5 , 8 );
SELECT b FROM t2 WHERE id > 2;
b
8
9
8
4
8
8
8
DELETE FROM t1 WHERE a IN ( 5 , 3 , 1 ) LIMIT 2;
SELECT b FROM t2 WHERE id > 2 /* no additional predicate */;
b
8
9
8
4
8
8
8
UPDATE t1 SET a = 2 WHERE 1 = 1 LIMIT 5;
DELETE FROM t1 WHERE id < 6 LIMIT 5;
SELECT b FROM t2 WHERE id > 2 AND id > -16777216;
b
8
9
8
4
8
8
8
DELETE FROM t2 WHERE a < 8 LIMIT 6;
DELETE FROM t2 WHERE a > 5 LIMIT 6;
UPDATE t2 SET b = 6 WHERE b < 4 LIMIT 0;
ROLLBACK TO SAVEPOINT A;
START TRANSACTION;
SAVEPOINT A;
UPDATE t1 SET a = 4 WHERE b > 4 LIMIT 9;
UPDATE t2 SET id = 0 WHERE a BETWEEN 7 and 7 LIMIT 8;
UPDATE t2 SET b = 5 WHERE id = 7 LIMIT 5;
INSERT INTO t1 ( a, b ) VALUES ( 4 , 1 );
UPDATE t1 SET b = 6 WHERE id BETWEEN 0 and 2 LIMIT 4;
DELETE FROM t1 WHERE a IN ( 9 , 0 , 1 ) LIMIT 6;
DELETE FROM t2 WHERE id IN ( 4 , 5 , 0 ) LIMIT 5;
SELECT id FROM t1 WHERE a = 7;
id
ROLLBACK;
COMMIT;
SELECT id FROM t1 WHERE a = 7 /* no additional predicate */;
id
SELECT id FROM t1 WHERE a = 7 AND id > -16777216;
id
UPDATE t2 SET id = 1 WHERE 1 = 1 LIMIT 5;
INSERT INTO t2 ( a, b ) VALUES ( 6 , 6 );
DELETE FROM t1 WHERE a = 8 LIMIT 8;
SELECT id FROM t2 WHERE b BETWEEN 3 and 2;
id
SELECT id FROM t2 WHERE b BETWEEN 3 and 2 /* no additional predicate */;
id
SELECT id FROM t2 WHERE b BETWEEN 3 and 2 AND id > -16777216;
id
UPDATE t2 SET b = 9 WHERE a BETWEEN 2 and 6 LIMIT 3;
UPDATE t2 SET b = 2 WHERE a = 8 LIMIT 4;
UPDATE t1 SET a = 5 WHERE b IN ( 0 , 7 , 8 ) LIMIT 8;
ROLLBACK TO SAVEPOINT A;
INSERT INTO t2 ( a, b ) VALUES ( 4 , 5 );
ROLLBACK TO SAVEPOINT A;
UPDATE t2 SET b = 6 WHERE a IN ( 0 , 8 , 0 ) LIMIT 5;
UPDATE t1 SET id = 8 WHERE id < 2 LIMIT 9;
UPDATE t1 SET a = 1 WHERE b > 2 LIMIT 8;
DELETE FROM t2 WHERE a IN ( 9 , 7 , 6 ) LIMIT 1;
UPDATE t1 SET b = 7 WHERE b > 6 LIMIT 9;
UPDATE t1 SET b = 0 WHERE 1 = 1 LIMIT 0;
ROLLBACK;
SAVEPOINT A;
DELETE FROM t2 WHERE a = 9 LIMIT 1;
SELECT id FROM t1 WHERE a BETWEEN 9 and 7;
id
SELECT id FROM t1 WHERE a BETWEEN 9 and 7 /* no additional predicate */;
id
UPDATE t1 SET a = 3 WHERE a = 0 LIMIT 6;
SELECT id FROM t1 WHERE a BETWEEN 9 and 7 AND id > -16777216;
id
SELECT a FROM t1 WHERE id = 5;
a
INSERT INTO t2 ( a, b ) VALUES ( 6 , 3 );
SELECT a FROM t1 WHERE id = 5 /* no additional predicate */;
a
SELECT a FROM t1 WHERE id = 5 AND id > -16777216;
a
INSERT INTO t1 ( a, b ) VALUES ( 9 , 3 );
UPDATE t2 SET id = 4 WHERE b = 6 LIMIT 6;
SELECT b FROM t2 WHERE id < 9;
b
SELECT b FROM t2 WHERE id < 9 /* no additional predicate */;
b
DELETE FROM t2 WHERE a < 3 LIMIT 7;
SELECT b FROM t2 WHERE id < 9 AND id > -16777216;
b
ROLLBACK TO SAVEPOINT A;
ROLLBACK TO SAVEPOINT A;
DELETE FROM t2 WHERE id > 5 LIMIT 7;
UPDATE t1 SET id = 6 WHERE id = 6 LIMIT 3;
ROLLBACK;
INSERT INTO t2 ( a, b ) VALUES ( 6 , 5 );
INSERT INTO t1 ( a, b ) VALUES ( 7 , 8 );
INSERT INTO t2 ( a, b ) VALUES ( 5 , 9 );
INSERT INTO t2 ( a, b ) VALUES ( 4 , 0 );
INSERT INTO t1 ( a, b ) VALUES ( 0 , 8 );
INSERT INTO t1 ( a, b ) VALUES ( 9 , 0 );
UPDATE t2 SET id = 9 WHERE b BETWEEN 9 and 7 LIMIT 7;
SELECT id FROM t1 WHERE b = 0;
id
128
SELECT id FROM t1 WHERE b = 0 /* no additional predicate */;
id
128
DELETE FROM t1 WHERE 1 = 1 LIMIT 7;
DELETE FROM t1 WHERE b < 5 LIMIT 4;
SELECT id FROM t1 WHERE b = 0 AND id > -16777216;
id
DELETE FROM t2 WHERE id BETWEEN 8 and 5 LIMIT 6;
UPDATE t2 SET b = 1 WHERE a = 6 LIMIT 0;
ROLLBACK;
SELECT a FROM t1 WHERE b IN ( 6 , 0 , 5 );
a
SELECT a FROM t2 WHERE a IN ( 1 , 6 , 4 );
a
4
6
SELECT a FROM t1 WHERE b IN ( 6 , 0 , 5 ) /* no additional predicate */;
a
SELECT a FROM t2 WHERE a IN ( 1 , 6 , 4 ) /* no additional predicate */;
a
4
6
SELECT a FROM t1 WHERE b IN ( 6 , 0 , 5 ) AND id > -16777216;
a
SELECT a FROM t2 WHERE a IN ( 1 , 6 , 4 ) AND id > -16777216;
a
4
6
UPDATE t1 SET id = 5 WHERE a IN ( 1 , 0 , 9 ) LIMIT 8;
INSERT INTO t2 ( a, b ) VALUES ( 3 , 0 );
DELETE FROM t2 WHERE b BETWEEN 0 and 0 LIMIT 0;
INSERT INTO t2 ( a, b ) VALUES ( 5 , 5 );
SELECT b FROM t1 WHERE a = 6;
b
DELETE FROM t2 WHERE a = 6 LIMIT 1;
SELECT b FROM t1 WHERE a = 6 /* no additional predicate */;
b
SELECT b FROM t1 WHERE a = 6 AND id > -16777216;
b
UPDATE t2 SET a = 8 WHERE id > 5 LIMIT 5;
DELETE FROM t1 WHERE 1 = 1 LIMIT 6;
SELECT b FROM t2 WHERE id = 8;
b
SELECT b FROM t2 WHERE id = 8 /* no additional predicate */;
b
INSERT INTO t1 ( a, b ) VALUES ( 1 , 2 );
SELECT b FROM t2 WHERE id = 8 AND id > -16777216;
b
DELETE FROM t1 WHERE id > 4 LIMIT 9;
ROLLBACK TO SAVEPOINT A;
SELECT b FROM t1 WHERE a > 0;
b
SELECT b FROM t1 WHERE a > 0 /* no additional predicate */;
b
SELECT b FROM t1 WHERE a > 0 AND id > -16777216;
b
SELECT a FROM t1 WHERE b > 8;
a
SELECT a FROM t1 WHERE b > 8 /* no additional predicate */;
a
COMMIT;
COMMIT;
SELECT a FROM t1 WHERE b > 8 AND id > -16777216;
a
SELECT b FROM t2 WHERE b > 1;
b
9
5
SELECT b FROM t2 WHERE b > 1 /* no additional predicate */;
b
9
5
DELETE FROM t2 WHERE b BETWEEN 3 and 3 LIMIT 9;
DELETE FROM t1 WHERE b < 9 LIMIT 1;
DELETE FROM t1 WHERE b IN ( 5 , 4 , 9 ) LIMIT 2;
SELECT b FROM t2 WHERE b > 1 AND id > -16777216;
b
9
5
DELETE FROM t1 WHERE a < 1 LIMIT 4;
UPDATE t2 SET id = 8 WHERE id IN ( 5 , 3 , 2 ) LIMIT 7;
UPDATE t2 SET a = 0 WHERE b BETWEEN 7 and 2 LIMIT 9;
INSERT INTO t2 ( a, b ) VALUES ( 5 , 7 );
SELECT id FROM t1 WHERE a > 9;
id
DELETE FROM t2 WHERE b > 7 LIMIT 6;
SELECT id FROM t1 WHERE a > 9 /* no additional predicate */;
id
DELETE FROM t2 WHERE b IN ( 0 , 7 , 5 ) LIMIT 6;
SELECT a FROM t1 WHERE b < 9;
a
SELECT id FROM t1 WHERE a > 9 AND id > -16777216;
id
ROLLBACK;
SELECT a FROM t1 WHERE b < 9 /* no additional predicate */;
a
SELECT a FROM t1 WHERE b < 9 AND id > -16777216;
a
INSERT INTO t1 ( a, b ) VALUES ( 1 , 1 );
DELETE FROM t2 WHERE id > 0 LIMIT 7;
SELECT a FROM t1 WHERE a < 4;
a
1
SELECT a FROM t1 WHERE a < 4 /* no additional predicate */;
a
1
SELECT a FROM t1 WHERE a < 4 AND id > -16777216;
a
1
SAVEPOINT A;
DELETE FROM t1 WHERE a = 3 LIMIT 2;
ROLLBACK;
UPDATE t1 SET id = 7 WHERE a > 8 LIMIT 1;
UPDATE t2 SET id = 8 WHERE id < 6 LIMIT 9;
ROLLBACK;
INSERT INTO t2 ( a, b ) VALUES ( 0 , 7 );
UPDATE t2 SET b = 7 WHERE a IN ( 9 , 7 , 5 ) LIMIT 8;
SELECT id FROM t1 WHERE b BETWEEN 3 and 7;
id
SELECT id FROM t1 WHERE b BETWEEN 3 and 7 /* no additional predicate */;
id
SELECT id FROM t1 WHERE b BETWEEN 3 and 7 AND id > -16777216;
id
INSERT INTO t1 ( a, b ) VALUES ( 4 , 4 );
SELECT a FROM t2 WHERE 1 = 1;
a
0
SELECT a FROM t2 WHERE 1 = 1 /* no additional predicate */;
a
0
SELECT a FROM t2 WHERE 1 = 1 AND id > -16777216;
a
0
SELECT a FROM t2 WHERE a BETWEEN 0 and 4;
a
0
SELECT a FROM t2 WHERE a BETWEEN 0 and 4 /* no additional predicate */;
a
0
SELECT a FROM t2 WHERE a BETWEEN 0 and 4 AND id > -16777216;
a
0
INSERT INTO t2 ( a, b ) VALUES ( 1 , 5 );
UPDATE t1 SET b = 0 WHERE id < 7 LIMIT 8;
SELECT b FROM t1 WHERE 1 = 1;
b
1
4
SELECT b FROM t1 WHERE 1 = 1 /* no additional predicate */;
b
1
4
SELECT b FROM t1 WHERE 1 = 1 AND id > -16777216;
b
1
4
UPDATE t1 SET b = 9 WHERE id = 6 LIMIT 8;
DELETE FROM t1 WHERE b BETWEEN 6 and 1 LIMIT 5;
SELECT a FROM t1 WHERE a < 6;
a
1
4
SELECT a FROM t1 WHERE a < 6 /* no additional predicate */;
a
1
4
SELECT a FROM t1 WHERE a < 6 AND id > -16777216;
a
1
4
UPDATE t1 SET a = 3 WHERE 1 = 1 LIMIT 2;
DELETE FROM t1 WHERE id = 5 LIMIT 7;
SELECT a FROM t2 WHERE a IN ( 1 , 2 , 2 );
a
1
SELECT a FROM t2 WHERE a IN ( 1 , 2 , 2 ) /* no additional predicate */;
a
1
SELECT a FROM t2 WHERE a IN ( 1 , 2 , 2 ) AND id > -16777216;
a
1
UPDATE t1 SET a = 0 WHERE id > 1 LIMIT 6;
SELECT a FROM t2 WHERE b < 2;
a
SELECT a FROM t2 WHERE b < 2 /* no additional predicate */;
a
SELECT a FROM t2 WHERE b < 2 AND id > -16777216;
a
DELETE FROM t1 WHERE a IN ( 2 , 1 , 2 ) LIMIT 2;
SELECT a FROM t1 WHERE id < 0;
a
SELECT a FROM t1 WHERE id < 0 /* no additional predicate */;
a
SELECT a FROM t1 WHERE id < 0 AND id > -16777216;
a
DELETE FROM t1 WHERE a IN ( 0 , 3 , 1 ) LIMIT 0;
UPDATE t2 SET id = 1 WHERE 1 = 1 LIMIT 8;
ERROR 23000: Duplicate entry '1' for key 'PRIMARY'
UPDATE t1 SET b = 5 WHERE a < 6 LIMIT 3;
UPDATE t2 SET a = 6 WHERE b BETWEEN 0 and 6 LIMIT 2;
DELETE FROM t1 WHERE a > 4 LIMIT 3;
ROLLBACK;
SAVEPOINT A;
SELECT id FROM t2 WHERE b < 1;
id
INSERT INTO t1 ( a, b ) VALUES ( 1 , 2 );
SELECT id FROM t2 WHERE b < 1 /* no additional predicate */;
id
SELECT id FROM t2 WHERE b < 1 AND id > -16777216;
id
SELECT id FROM t2 WHERE b BETWEEN 4 and 7;
id
125
126
SELECT b FROM t1 WHERE id > 8;
b
5
5
2
SELECT a FROM t1 WHERE 1 = 1;
a
0
0
1
SELECT id FROM t2 WHERE b BETWEEN 4 and 7 /* no additional predicate */;
id
125
126
SELECT b FROM t1 WHERE id > 8 /* no additional predicate */;
b
5
5
2
SELECT a FROM t1 WHERE 1 = 1 /* no additional predicate */;
a
0
0
1
SELECT a FROM t1 WHERE 1 = 1 AND id > -16777216;
a
0
0
1
SELECT id FROM t2 WHERE b BETWEEN 4 and 7 AND id > -16777216;
id
125
126
SELECT b FROM t1 WHERE id > 8 AND id > -16777216;
b
5
5
2
INSERT INTO t1 ( a, b ) VALUES ( 3 , 7 );
SELECT id FROM t1 WHERE id BETWEEN 8 and 1;
id
SELECT a FROM t1 WHERE 1 = 1;
a
0
0
1
3
SELECT id FROM t1 WHERE id BETWEEN 8 and 1 /* no additional predicate */;
id
SELECT a FROM t1 WHERE 1 = 1 /* no additional predicate */;
a
0
0
1
3
SELECT id FROM t1 WHERE id BETWEEN 8 and 1 AND id > -16777216;
id
SELECT a FROM t1 WHERE 1 = 1 AND id > -16777216;
a
0
0
1
3
INSERT INTO t2 ( a, b ) VALUES ( 8 , 6 );
SELECT b FROM t1 WHERE b IN ( 8 , 3 , 9 );
b
SELECT a FROM t2 WHERE a > 2;
a
6
8
SELECT b FROM t1 WHERE b IN ( 8 , 3 , 9 ) /* no additional predicate */;
b
SELECT b FROM t1 WHERE b IN ( 8 , 3 , 9 ) AND id > -16777216;
b
SELECT a FROM t2 WHERE a > 2 /* no additional predicate */;
a
6
8
DELETE FROM t2 WHERE id > 6 LIMIT 3;
SELECT a FROM t2 WHERE a > 2 AND id > -16777216;
a
UPDATE t1 SET b = 2 WHERE 1 = 1 LIMIT 7;
DELETE FROM t2 WHERE a < 2 LIMIT 3;
ROLLBACK;
UPDATE t1 SET b = 1 WHERE a BETWEEN 1 and 3 LIMIT 1;
COMMIT;
ROLLBACK TO SAVEPOINT A;
UPDATE t1 SET b = 0 WHERE a = 7 LIMIT 2;
DELETE FROM t2 WHERE a < 7 LIMIT 1;
DELETE FROM t2 WHERE a IN ( 3 , 9 , 0 ) LIMIT 2;
UPDATE t2 SET b = 7 WHERE 1 = 1 LIMIT 3;
INSERT INTO t2 ( a, b ) VALUES ( 3 , 6 );
INSERT INTO t2 ( a, b ) VALUES ( 3 , 7 );
SELECT id FROM t1 WHERE b BETWEEN 3 and 9;
id
INSERT INTO t2 ( a, b ) VALUES ( 9 , 6 );
SELECT id FROM t1 WHERE b BETWEEN 3 and 9 /* no additional predicate */;
id
SELECT id FROM t1 WHERE b BETWEEN 3 and 9 AND id > -16777216;
id
DELETE FROM t1 WHERE 1 = 1 LIMIT 8;
UPDATE t1 SET b = 6 WHERE a < 4 LIMIT 3;
ROLLBACK TO SAVEPOINT A;
DROP TABLE t1, t2;
End Test of Bug 542299
